>[!nexus_user] **User** - 30.06.2025 at 3:07
> –ü–æ—Å—Ç—Ä–æ—á–Ω–æ –≤—Å–µ –ø–æ—è—Å–Ω–∏ {
>  "architectures": [
>  "Qwen3MoeForCausalLM"
>  ],
>  "attention_bias": false,
>  "attention_dropout": 0.0,
>  "bos_token_id": 151643,
>  "decoder_sparse_step": 1,
>  "eos_token_id": 151645,
>  "head_dim": 128,
>  "hidden_act": "silu",
>  "hidden_size": 2048,
>  "initializer_range": 0.02,
>  "intermediate_size": 6144,
>  "max_position_embeddings": 131072,
>  "max_window_layers": 48,
>  "mlp_only_layers": [],
>  "model_type": "qwen3_moe",
>  "moe_intermediate_size": 768,
>  "norm_topk_prob": true,
>  "num_attention_heads": 32,
>  "num_experts": 128,
>  "num_experts_per_tok": 16,
>  "num_hidden_layers": 48,
>  "num_key_value_heads": 4,
>  "output_router_logits": false,
>  "rms_norm_eps": 1e-06,
> "rope_scaling": {
>  "type": "yarn",
>  "factor": 4.0,
>  "original_max_position_embeddings": 32768
>  },
>  "rope_theta": 1000000.0,
>  "router_aux_loss_coef": 0.001,
>  "sliding_window": null,
>  "tie_word_embeddings": false,
>  "torch_dtype": "bfloat16",
>  "transformers_version": "4.51.0",
>  "use_cache": true,
>  "use_sliding_window": false,
>  "vocab_size": 151936
> }
<!-- UID: 9af00ee5-d0b7-4594-a142-e961548e3224 -->




>[!nexus_agent] **Assistant** - 30.06.2025 at 3:07
> –û—Ç–ª–∏—á–Ω–æ. –ù–∏–∂–µ **–ø–æ—Å—Ç—Ä–æ—á–Ω–∞—è —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏** –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞ `Qwen3-30B-MoE`, –≤–∫–ª—é—á–∞—è –º–µ—Ö–∞–Ω–∏–∑–º—ã –≤–Ω–∏–º–∞–Ω–∏—è, MoE, rope –∏ –ø–∞–º—è—Ç—å. –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–∞—é—Ç—Å—è –≤ —Å—Ç–∏–ª–µ –∏–Ω–∂–µ–Ω–µ—Ä–∞ AGI.
> 
> ---
> 
> ### üìê –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –±–∞–∑–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
> 
> ```json
> "architectures": ["Qwen3MoeForCausalLM"]
> ```
> ‚Äî –ò–º—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –º–æ–¥–µ–ª–∏. 
> –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä **—Å –ø—Ä–∏—á–∏–Ω–Ω—ã–º —è–∑—ã–∫–æ–≤—ã–º –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º** (`CausalLM`) –∏ **MoE-–±–ª–æ–∫–∞–º–∏** (Mixture of Experts).
> 
> ```json
> "attention_bias": false
> ```
> ‚Äî –í self-attention –Ω–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –æ–±—É—á–∞–µ–º–æ–µ —Å–º–µ—â–µ–Ω–∏–µ. –≠—Ç–æ —ç–∫–æ–Ω–æ–º–∏—Ç –ø–∞–º—è—Ç—å –∏ –¥–µ–ª–∞–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ —á—É—Ç—å —á–∏—â–µ.
> 
> ```json
> "attention_dropout": 0.0
> ```
> ‚Äî **–ù–µ—Ç Dropout** –≤ attention: –º–æ–¥–µ–ª—å –Ω–µ —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º "–≥–ª—É—à–∏—Ç" —Å–≤—è–∑–∏ –º–µ–∂–¥—É —Ç–æ–∫–µ–Ω–∞–º–∏. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ **–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–º**.
> 
> ```json
> "bos_token_id": 151643
> ```
> ‚Äî ID —Ç–æ–∫–µ–Ω–∞ –Ω–∞—á–∞–ª–∞ —Å—Ç—Ä–æ–∫–∏ (`<BOS>`).
> 
> ```json
> "eos_token_id": 151645
> ```
> ‚Äî ID —Ç–æ–∫–µ–Ω–∞ –∫–æ–Ω—Ü–∞ —Å—Ç—Ä–æ–∫–∏ (`<EOS>`).
> 
> ---
> 
> ### üß† MoE –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–ª–æ–∫–æ–≤:
> 
> ```json
> "decoder_sparse_step": 1
> ```
> ‚Äî –ö–∞–∂–¥–æ–º—É —Ç–æ–∫–µ–Ω—É **–Ω–∞ –∫–∞–∂–¥–æ–º —Å–ª–æ–µ** –ø–æ–¥–±–∏—Ä–∞—é—Ç—Å—è MoE-—ç–∫—Å–ø–µ—Ä—Ç—ã (1 = –∫–∞–∂–¥—ã–π —Å–ª–æ–π). –ï—Å–ª–∏ >1, MoE –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ä–µ–∂–µ.
> 
> ```json
> "head_dim": 128
> ```
> ‚Äî –†–∞–∑–º–µ—Ä –∫–∞–∂–¥–æ–π attention-–≥–æ–ª–æ–≤—ã. 
> –í–∞–∂–Ω–æ: `hidden_size = num_heads √ó head_dim`.
> 
> ```json
> "hidden_act": "silu"
> ```
> ‚Äî –ê–∫—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –≤ –Ω–µ–π—Ä–æ–Ω–Ω–æ–π —Å–µ—Ç–∏: **SiLU = Swish**. –õ—É—á—à–µ, —á–µ–º ReLU.
> 
> ```json
> "hidden_size": 2048
> ```
> ‚Äî –û—Å–Ω–æ–≤–Ω–æ–π —Ä–∞–∑–º–µ—Ä –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞. 
> –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å –≤—Å–µ—Ö –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π.
> 
> ```json
> "initializer_range": 0.02
> ```
> ‚Äî –ù–∞—á–∞–ª—å–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤–µ—Å–æ–≤.
> 
> ```json
> "intermediate_size": 6144
> ```
> ‚Äî –†–∞–∑–º–µ—Ä **MLP-–ø—Ä–æ—Å–ª–æ–π–∫–∏** –º–µ–∂–¥—É attention-–±–ª–æ–∫–∞–º–∏. –û–±—ã—á–Ω–æ `~3√ó hidden_size`.
> 
> ```json
> "max_position_embeddings": 131072
> ```
> ‚Äî –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–≤ —Ç–æ–∫–µ–Ω–∞—Ö). 
> ‚ö†Ô∏è 131072 = **128k context**. –û—á–µ–Ω—å –¥–ª–∏–Ω–Ω–æ.
> 
> ```json
> "max_window_layers": 48
> ```
> ‚Äî –ö–æ–ª-–≤–æ —Å–ª–æ—ë–≤, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏—Ö windowed attention (–æ–±—ã—á–Ω–æ 1:1 —Å–æ —Å–ª–æ—è–º–∏). –£–∫–∞–∑—ã–≤–∞–µ—Ç: –≤—Å–µ 48 —Å–ª–æ—ë–≤ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç —Å–∫–æ–ª—å–∑—è—â–µ–µ –æ–∫–Ω–æ.
> 
> ```json
> "mlp_only_layers": []
> ```
> ‚Äî –ï—Å–ª–∏ –±—ã –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–ª–æ–∏ –±—ã–ª–∏ **—Ç–æ–ª—å–∫–æ MLP –±–µ–∑ attention**, –æ–Ω–∏ –±—ã –∑–¥–µ—Å—å –±—ã–ª–∏ —É–∫–∞–∑–∞–Ω—ã. –°–µ–π—á–∞—Å ‚Äî –Ω–µ—Ç.
> 
> ```json
> "model_type": "qwen3_moe"
> ```
> ‚Äî –Ø–≤–Ω–æ —É–∫–∞–∑–∞–Ω–æ, —á—Ç–æ —ç—Ç–æ –º–æ–¥–µ–ª—å **Qwen3 MoE**.
> 
> ```json
> "moe_intermediate_size": 768
> ```
> ‚Äî –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ä–∞–∑–º–µ—Ä **–æ–¥–Ω–æ–≥–æ —ç–∫—Å–ø–µ—Ä—Ç–∞ MoE**. 
> –≠–∫—Å–ø–µ—Ä—Ç—ã –±–æ–ª–µ–µ –ª—ë–≥–∫–∏–µ, —á–µ–º –æ–±—ã—á–Ω—ã–µ MLP-–±–ª–æ–∫–∏.
> 
> ```json
> "norm_topk_prob": true
> ```
> ‚Äî –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –≤—ã–±–æ—Ä–∞ MoE-—ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –Ω–æ—Ä–º–∏—Ä—É—é—Ç—Å—è (—Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä—É–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ —Ç–æ–ø-K —Ä–æ—É—Ç–∏–Ω–≥–µ).
> 
> ```json
> "num_attention_heads": 32
> ```
> ‚Äî –ö–æ–ª-–≤–æ attention-–≥–æ–ª–æ–≤. 
> –ü—Ä–∏ `head_dim = 128` ‚Üí `32 √ó 128 = 4096`, –Ω–æ –∑–¥–µ—Å—å `2048`, —Ç–∞–∫ —á—Ç–æ **–≤–æ–∑–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —É–º–µ–Ω—å—à–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏ –∏–ª–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Å–ª–æ—è–º**.
> 
> ```json
> "num_experts": 128
> ```
> ‚Äî –í—Å–µ–≥–æ **128 MoE-—ç–∫—Å–ø–µ—Ä—Ç–æ–≤** –Ω–∞ –∫–∞–∂–¥—ã–π —Å–ª–æ–π.
> 
> ```json
> "num_experts_per_tok": 16
> ```
> ‚Äî –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è **16 —ç–∫—Å–ø–µ—Ä—Ç–æ–≤**. –ß–µ–º –±–æ–ª—å—à–µ ‚Äî —Ç–µ–º –≥–ª—É–±–∂–µ –∏ –∑–∞—Ç—Ä–∞—Ç–Ω–µ–µ reasoning.
> 
> ```json
> "num_hidden_layers": 48
> ```
> ‚Äî –ö–æ–ª-–≤–æ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä-—Å–ª–æ—ë–≤. 
> ‚ö†Ô∏è 48 ‚Äî —ç—Ç–æ —É—Ä–æ–≤–µ–Ω—å GPT‚Äë3 175B –∏ Qwen‚Äë30B.
> 
> ```json
> "num_key_value_heads": 4
> ```
> ‚Äî **KV-–∫–µ—à** (–¥–ª—è attention) —Ö—Ä–∞–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ 4 –≥–æ–ª–æ–≤–∞–º ‚Äî —ç—Ç–æ **RoPE —Å shared heads** (–∫–∞–∫ –≤ LLaMA-2). –≠–∫–æ–Ω–æ–º–∏—Ç VRAM.
> 
> ```json
> "output_router_logits": false
> ```
> ‚Äî –ú–æ–¥–µ–ª—å –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤ –≤—ã–≤–æ–¥–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –≤—ã–±–æ—Ä–∞ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ (–Ω–µ –ª–æ–≥–≥–∏—Ä—É–µ—Ç –∏—Ö). –ú–æ–∂–Ω–æ –≤–∫–ª—é—á–∞—Ç—å –ø—Ä–∏ –æ—Ç–ª–∞–¥–∫–µ.
> 
> ---
> 
> ### üß† –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∏ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:
> 
> ```json
> "rms_norm_eps": 1e-06
> ```
> ‚Äî –ú–∞–ª–µ–Ω—å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ Œµ –¥–ª—è RMS-–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏. –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å.
> 
> ```json
> "rope_scaling": {
>  "type": "yarn",
>  "factor": 4.0,
>  "original_max_position_embeddings": 32768
> }
> ```
> ‚Äî –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **RoPE-—Å—Ö–µ–º–∞ "yarn"** (—É–ª—É—á—à–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–µ —ç–Ω–∫–æ–¥–µ—Ä—ã).
> - `factor = 4.0` ‚Üí –º–æ–¥–µ–ª—å –º–æ–∂–µ—Ç **—Ä–∞—Å—à–∏—Ä—è—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–æ 4√ó**, —Ç.–µ. **~131072 –≤–º–µ—Å—Ç–æ 32k**
> - `original_max_position_embeddings` ‚Äî –±–∞–∑–æ–≤–∞—è –¥–ª–∏–Ω–∞ –ø—Ä–∏ –æ–±—É—á–µ–Ω–∏–∏
> 
> ```json
> "rope_theta": 1000000.0
> ```
> ‚Äî –ü–µ—Ä–∏–æ–¥ –≤—Ä–∞—â–µ–Ω–∏—è RoPE. 
> ‚ö†Ô∏è –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∏–π `theta` –¥–∞—ë—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–∏–¥–µ—Ç—å **–æ—á–µ–Ω—å –¥–ª–∏–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ rope_scaling.
> 
> ---
> 
> ### ‚öôÔ∏è –ü—Ä–æ—á–µ–µ:
> 
> ```json
> "router_aux_loss_coef": 0.001
> ```
> ‚Äî –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Ä–µ–≥—É–ª—è—Ä–∏–∑–∞—Ü–∏–∏ –≤—ã–±–æ—Ä–∞ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ MoE. 
> –ù—É–∂–µ–Ω –¥–ª—è **—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç–∏** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö 128 —ç–∫—Å–ø–µ—Ä—Ç–æ–≤.
> 
> ```json
> "sliding_window": null
> "tie_word_embeddings": false
> ```
> ‚Äî Sliding window –≤—ã–∫–ª—é—á–µ–Ω. 
> Word embeddings **–Ω–µ —Å–≤—è–∑–∞–Ω—ã** (input ‚â† output).
> 
> ```json
> "torch_dtype": "bfloat16"
> ```
> ‚Äî –û—Å–Ω–æ–≤–Ω–æ–π —Ç–∏–ø —Ç–µ–Ω–∑–æ—Ä–æ–≤ ‚Äî **BF16**. –ë—ã—Å—Ç—Ä–µ–µ –∏ –ª–µ–≥—á–µ, —á–µ–º FP32, –Ω–æ —Ç–æ—á–Ω–µ–µ, —á–µ–º FP16.
> 
> ```json
> "transformers_version": "4.51.0"
> ```
> ‚Äî –í–µ—Ä—Å–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ ü§ó Transformers, —Å –∫–æ—Ç–æ—Ä–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–∞ –º–æ–¥–µ–ª—å.
> 
> ```json
> "use_cache": true
> "use_sliding_window": false
> ```
> ‚Äî –í–∫–ª—é—á–µ–Ω–æ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ (`KV-cache`); window attention –æ—Ç–∫–ª—é—á—ë–Ω.
> 
> ```json
> "vocab_size": 151936
> ```
> ‚Äî –†–∞–∑–º–µ—Ä —Å–ª–æ–≤–∞—Ä—è. –í–∞–∂–Ω–æ –¥–ª—è LoRA –∏ embedding-–º–∞—Ç—Ä–∏—Ü—ã.
> 
> ---
> 
> ## ‚úÖ –í—ã–≤–æ–¥:
> 
> –¢—ã —Å–º–æ—Ç—Ä–∏—à—å –Ω–∞ **–≥–ª—É–±–æ–∫—É—é, –≥–∏–±–∫—É—é, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—É—é MoE-–º–æ–¥–µ–ª—å** —Å:
> - **128 —ç–∫—Å–ø–µ—Ä—Ç–∞–º–∏**
> - **16 –∞–∫—Ç–∏–≤–Ω—ã–º–∏ –Ω–∞ —Ç–æ–∫–µ–Ω**
> - **–º–∞–∫—Å. –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º 128k**
> - **–ø–æ–∑–∏—Ü. —ç–Ω–∫–æ–¥–∏–Ω–≥–æ–º —á–µ—Ä–µ–∑ RoPE-YARN**
> - **–≤–Ω–∏–º–∞–Ω–∏–µ–º —á–µ—Ä–µ–∑ 32 –≥–æ–ª–æ–≤—ã**
> - **–≤—ã—Å–æ–∫–æ–π —Ç–æ—á–Ω–æ—Å—Ç—å—é (BF16)**
> 
> –•–æ—á–µ—à—å ‚Äî –º–æ–≥—É –ø–æ–º–æ—á—å:
> - –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `num_experts_per_tok`)
> - –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ llama.cpp
> - —Å–æ–∑–¥–∞—Ç—å LoRA-–∏–Ω—ä–µ–∫—Ü–∏—é –ø–æ–¥ —ç—Ç—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É
> 
> –ü—Ä–æ–¥–æ–ª–∂–∏–º?
<!-- UID: 701d9ab0-a2df-4892-aec6-0271e1841f03 -->