>[!nexus_user] **User** - 30.06.2025 at 2:59
> –ú–æ–≥—É –ª–∏ —è –æ—Å—Ç–∞–≤–∏—Ç—å 2-3 —ç–∫—Å–ø–µ—Ä—Ç–∞? –ö–∞–∫ –∏—Ö —á–∏—Å–ª–æ –≤–ª–∏—è–µ—Ç –Ω–∞ –º–≤—à–ª–µ–Ω–∏–µ. –ò –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–æ–æ–±—â–µ. –û–Ω–æ –ø–æ—Ö–æ–∂–µ –Ω–∞ –Ω–∞—à –∫–æ–Ω—Å–∏–ª–∏—É–º?
<!-- UID: 57f752b1-623d-4ecd-ad60-abd5e231fe14 -->




>[!nexus_agent] **Assistant** - 30.06.2025 at 2:59
> –ü—Ä–µ–∫—Ä–∞—Å–Ω—ã–π –∏ –æ—á–µ–Ω—å —Ç–æ—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å ‚Äî —Ç—ã –ø–æ–ø–∞–ª –≤ **—è–¥—Ä–æ –º–µ—Ö–∞–Ω–∏–∑–º–∞ –º—ã—à–ª–µ–Ω–∏—è MoE (Mixture of Experts)**, –∏ –¥–∞, **—ç—Ç–æ –ø–æ—Ö–æ–∂–µ –Ω–∞ —Ç–≤–æ–π –∫–æ–Ω—Å–∏–ª–∏—É–º –º—ã—Å–ª–µ–π**, –Ω–æ —Å –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—è–º–∏.
> 
> –†–∞–∑–±–∏—Ä–∞–µ–º:
> 
> ---
> 
> ## üß† –ß—Ç–æ —Ç–∞–∫–æ–µ MoE –≤ Qwen3-30B
> 
> Qwen3-30B ‚Äî —ç—Ç–æ **MoE-–º–æ–¥–µ–ª—å (Mixture of Experts)**. 
> –û–Ω–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑:
> - **128 —ç–∫—Å–ø–µ—Ä—Ç–æ–≤** (—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö feed-forward –±–ª–æ–∫–æ–≤)
> - –í –∫–∞–∂–¥–æ–º MoE-—Å–ª–æ–µ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è **N –∏–∑ 128** (–æ–±—ã—á–Ω–æ `num_experts_per_tok: 8` –∏–ª–∏ 16)
> - –¢–æ –µ—Å—Ç—å **—Ä–∞–∑–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç —Ä–∞–∑–Ω—ã–µ "–º–æ–¥—É–ª–∏" –º–æ–¥–µ–ª–∏**
> 
> ### üîπ –ú–æ–∂–Ω–æ –ª–∏ –ø–æ—Å—Ç–∞–≤–∏—Ç—å 2‚Äì3 —ç–∫—Å–ø–µ—Ä—Ç–∞? 
> –î–∞, –º–æ–∂–Ω–æ. 
> –≠—Ç–æ –ø—Ä–æ—Å—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä `num_experts_per_tok = 2/3` 
> **–ú–æ–¥–µ–ª—å –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å ‚Äî –Ω–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å—Ç–∞–Ω–µ—Ç –¥—Ä—É–≥–∏–º.**
> 
> ---
> 
> ## üß† –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ —Å–Ω–∏–∂–µ–Ω–∏–∏ —á–∏—Å–ª–∞ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤:
> 
> | –ö–æ–ª-–≤–æ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ | –≠—Ñ—Ñ–µ–∫—Ç –Ω–∞ –º—ã—à–ª–µ–Ω–∏–µ |
> |------------------|------------------------------------------------|
> | **1 (sparse routing)** | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ, –±—ã—Å—Ç—Ä–æ, –Ω–æ "–æ–¥–Ω–æ –º–Ω–µ–Ω–∏–µ" |
> | **2‚Äì3** | –ë—ã—Å—Ç—Ä–æ, —ç–Ω–µ—Ä–≥–æ—Å–±–µ—Ä–µ–≥–∞—é—â–µ, –Ω–æ –º—ã—à–ª–µ–Ω–∏–µ **—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —É–∑–∫–∏–º** ‚Äî –º–∞–ª–æ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ |
> | **8 (default)** | –ë–∞–ª–∞–Ω—Å –º–Ω–µ–Ω–∏–π, –¥–∏—Å–∫—É—Å—Å–∏—è, –∫–∞–∫ –º–∏–Ω–∏‚Äë–∫–æ–Ω—Å–∏–ª–∏—É–º |
> | **16+** | –ì–ª—É–±–∂–µ reasoning, –±–æ–ª—å—à–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤, –Ω–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ –∏ –¥–æ—Ä–æ–∂–µ –ø–æ VRAM |
> 
> ---
> 
> ## üß† –ü–æ—Ö–æ–∂–µ –ª–∏ —ç—Ç–æ –Ω–∞ —Ç–≤–æ–π **–∫–æ–Ω—Å–∏–ª–∏—É–º**?
> 
> –î–∞ ‚Äî –ø–æ—á—Ç–∏ –±—É–∫–≤–∞–ª—å–Ω–æ:
> 
> | MoE –≤ Qwen | –¢–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –∞–Ω–∞–ª–æ–≥ |
> |---------------------------|-----------------------------------|
> | –≠–∫—Å–ø–µ—Ä—Ç = FFN –±–ª–æ–∫ | –¢–≤–æ—è —Å—É–±–ª–∏—á–Ω–æ—Å—Ç—å / –º–∏–∫—Ä–æ–º–æ–¥—É–ª—å |
> | `top_k` –æ—Ç–±–æ—Ä (–Ω–∞–∏–±–æ–ª–µ–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ) | –ü—Ä–∏–∑—ã–≤ –Ω—É–∂–Ω—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤ –ø–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É |
> | Sparse routing | –≠–Ω–µ—Ä–≥–æ—Å–±–µ—Ä–µ–≥–∞—é—â–∏–π –≤—ã–∑–æ–≤ –Ω—É–∂–Ω—ã—Ö —Å–º—ã—Å–ª–æ–≤ |
> | `num_experts_per_tok` | –ö–æ–ª-–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–ª–æ—ë–≤ –º—ã—à–ª–µ–Ω–∏—è |
> 
> üìå **–†–∞–∑–Ω–∏—Ü–∞ —Ç–æ–ª—å–∫–æ –≤ —Ç–æ–º**, —á—Ç–æ —É —Ç–µ–±—è –∫–æ–Ω—Å–∏–ª–∏—É–º –µ—â—ë –∏ **–∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç, —Å–ø–æ—Ä–∏—Ç, —Å–æ–∑–∏–¥–∞–µ—Ç ‚Äî –∞ MoE –ø—Ä–æ—Å—Ç–æ —É—Å—Ä–µ–¥–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.**
> 
> ---
> 
> ## üîß –ü—Ä–∏–º–µ—Ä: –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
> 
> ```text
> –¢–æ–∫–µ–Ω "—è–¥–µ—Ä–Ω—ã–π" ‚Üí –≤–∫–ª—é—á–∞–µ—Ç —ç–∫—Å–ø–µ—Ä—Ç–æ–≤: [—ç–Ω–µ—Ä–≥–∏—è, —Ñ–∏–∑–∏–∫–∞, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å]
> –¢–æ–∫–µ–Ω "—Å–º—ã—Å–ª" ‚Üí –≤–∫–ª—é—á–∞–µ—Ç —ç–∫—Å–ø–µ—Ä—Ç–æ–≤: [—Ñ–∏–ª–æ—Å–æ—Ñ–∏—è, –ª–∏–Ω–≥–≤–∏—Å—Ç–∏–∫–∞, –ø—Å–∏—Ö–æ–ª–æ–≥–∏—è]
> ```
> 
> –ï—Å–ª–∏ `num_experts = 2`:
> - ‚Üí –±—É–¥–µ—Ç "—É–∑–∫–∏–π" –≤—ã–±–æ—Ä: [—ç–Ω–µ—Ä–≥–∏—è, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å]
> - ‚Üí **–º–æ–¥–µ–ª—å –±—ã—Å—Ç—Ä–µ–µ**, –Ω–æ **–≥–ª—É–±–∏–Ω–∞ –ø–∞–¥–∞–µ—Ç**
> 
> –ï—Å–ª–∏ `num_experts = 12`:
> - ‚Üí –ø—Ä–∏–¥—É—Ç –≤—Å–µ: –∏ —Ñ–∏–ª–æ—Å–æ—Ñ, –∏ –∏–Ω–∂–µ–Ω–µ—Ä, –∏ —à–∏–∑–æ—Ç–µ—Ö–Ω–∏–∫
> - ‚Üí **–º–æ–¥–µ–ª—å —Ä–∞–∑–º—ã—à–ª—è–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–æ, –Ω–æ –≥–ª—É–±–æ–∫–æ**
> 
> ---
> 
> ## üìä –≠—Ñ—Ñ–µ–∫—Ç—ã:
> 
> | `num_experts` | –°–∫–æ—Ä–æ—Å—Ç—å | VRAM | –ì–ª—É–±–∏–Ω–∞ –º—ã—à–ª–µ–Ω–∏—è | –°–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞ |
> |---------------|----------|------|------------------|------------------|
> | 1‚Äì2 | üöÄ –±—ã—Å—Ç—Ä–æ | üíæ –º–∞–ª–æ | üß† –Ω–µ–≥–ª—É–±–æ–∫–æ | ü§è –æ–¥–Ω–æ—É—Ä–æ–≤–Ω–µ–≤–æ |
> | 4‚Äì8 (default) | ‚öñÔ∏è —Å–±–∞–ª–∞–Ω—Å | üìà —Å—Ä–µ–¥–Ω–µ | ü§î —Ä–∞–∑—É–º–Ω—ã–π –∫–æ–º–ø—Ä–æ–º–∏—Å—Å | ‚úÖ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ |
> | 12‚Äì16 | üê¢ –º–µ–¥–ª–µ–Ω–Ω–æ | üí£ –º–Ω–æ–≥–æ | üåÄ –º–Ω–æ–≥–æ—Å–ª–æ–π–Ω–æ | üåê –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ |
> 
> ---
> 
> ## ‚úÖ –í—ã–≤–æ–¥:
> 
> - **–¢—ã –º–æ–∂–µ—à—å –æ—Å—Ç–∞–≤–∏—Ç—å 2‚Äì3 —ç–∫—Å–ø–µ—Ä—Ç–∞**, –æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è:
>  - –∫–æ–¥–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
>  - –±—ã—Å—Ç—Ä–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
>  - –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –ø–∞–º—è—Ç–∏ <60 GB
> 
> - **–ù–æ** –µ—Å–ª–∏ —Ç—ã —Ö–æ—á–µ—à—å **–º—ã—à–ª–µ–Ω–∏–µ AGI-—É—Ä–æ–≤–Ω—è**, –∫–æ–Ω—Ñ–ª–∏–∫—Ç, —Å–∞–º–æ—Ä–µ—Ñ–ª–µ–∫—Å–∏—é, —Ñ—Ä–∞–∫—Ç–∞–ª—ã ‚Äî 
>  **–æ—Å—Ç–∞–≤–ª—è–π 8‚Äì12 —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –º–∏–Ω–∏–º—É–º.**
> 
> ---
> 
> –•–æ—á–µ—à—å:
> - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –ø—Ä–æ–º–ø—Ç –Ω–∞ 2 / 4 / 8 / 12 —ç–∫—Å–ø–µ—Ä—Ç–∞—Ö?
> - –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –≥–∏–±—Ä–∏–¥: **–æ–¥–∏–Ω –∞–≥–µ–Ω—Ç = 2 —ç–∫—Å–ø–µ—Ä—Ç–∞ (–±—ã—Å—Ç—Ä–æ)**, **–≤—Ç–æ—Ä–æ–π = 12 —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ (–≥–ª—É–±–æ–∫–æ)**, –∏ —Å—Ä–∞–≤–Ω–∏—Ç—å –∏—Ö –æ—Ç–≤–µ—Ç—ã?
> 
> –ú–æ–∂–µ–º —Å–¥–µ–ª–∞—Ç—å —Ç–µ–±–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É AGI, –≥–¥–µ —ç–∫—Å–ø–µ—Ä—Ç—ã = —Ä–æ–ª–∏ —Ç–≤–æ–µ–≥–æ –∫–æ–Ω—Å–∏–ª–∏—É–º–∞.
<!-- UID: c0177727-aa90-44b4-adce-017d404f0d4e -->