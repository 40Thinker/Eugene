>[!nexus_user] **User** - 30.06.2025 at 17:11
> –ú–Ω–µ –ø–æ–∫–∞ —á—Ç–æ –Ω–µ–ø–æ–Ω—è—Ç–µ–Ω —Ç–∞–∫–æ–π –º–æ–º–µ–Ω—Ç, —á—Ç–æ –µ—Å—Ç—å —É –ö–≤–µ–Ω–∞ –º–æ–¥–µ–ª—å 32b –∏ 30b, –∏ –µ—Å—Ç—å —ç–∫—Å–ø–µ—Ä—Ç—ã. –ï—Å–ª–∏, —É—Å–ª–æ–≤–Ω–æ –≥–æ–≤–æ—Ä—è, –æ–¥–∏–Ω —ç–∫—Å–ø–µ—Ä—Ç –∑–∞–≥—Ä—É–∂–µ–Ω, –æ–Ω —á—Ç–æ, —Ç–æ–ª—å–∫–æ 3 –º–∏–ª–ª–∏–∞—Ä–¥–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç? –ê –µ—Å–ª–∏ 10 —ç–∫—Å–ø–µ—Ä—Ç–æ–≤, —Ç–æ 30 –º–∏–ª–ª–∏–∞—Ä–¥–æ–≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤. –Ø –Ω–µ –æ—á–µ–Ω—å –ø–æ–Ω–∏–º–∞—é –≤–æ—Ç —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç.
<!-- UID: 0efa951b-e491-4e69-a481-0f3d8d762f2a -->




>[!nexus_agent] **Assistant** - 30.06.2025 at 17:11
> üß† –û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å ‚Äî —Ç—ã –ø–æ–¥–æ—à—ë–ª –∫ **–∫–ª—é—á–µ–≤–æ–º—É –ø–∞—Ä–∞–¥–æ–∫—Å—É MoE-–º–æ–¥–µ–ª–µ–π (Mixture of Experts)**: 
> > **"30B ‚Äî —ç—Ç–æ —Å–∫–æ–ª—å–∫–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ä–µ–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?"** 
> > –ò **"–µ—Å–ª–∏ –æ–¥–∏–Ω —ç–∫—Å–ø–µ—Ä—Ç –∞–∫—Ç–∏–≤–µ–Ω, –æ–Ω —á—Ç–æ, –¥–∞—ë—Ç 1/10 –º–æ–¥–µ–ª–∏?"**
> 
> –î–∞–≤–∞–π –≤—Å—ë —Ä–∞–∑–ª–æ–∂–∏–º –ø—Ä–µ–¥–µ–ª—å–Ω–æ —è—Å–Ω–æ:
> 
> ---
> 
> ## üì¶ –ß—Ç–æ –∑–Ω–∞—á–∏—Ç "30B" –≤ Qwen3‚Äë30B?
> 
> - **30B = –æ–±—â–µ–µ —á–∏—Å–ª–æ –æ–±—É—á–∞–µ–º—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–æ–¥–µ–ª–∏**, –≤–∫–ª—é—á–∞—è:
>  - attention-–≥–æ–ª–æ–≤—ã
>  - MLP-—Å–ª–æ–∏
>  - —ç–∫—Å–ø–µ—Ä—Ç—ã (MoE)
>  - embedding
>  - output-proj
> 
> –ù–æ: **–Ω–µ –≤—Å–µ —ç—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.**
> 
> ---
> 
> ## üß† –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω MoE –≤ Qwen3:
> 
> - **MoE = Mixture of Experts**: –º–æ–¥–µ–ª—å —Å–æ–¥–µ—Ä–∂–∏—Ç **–Ω–∞–ø—Ä–∏–º–µ—Ä, 128 —ç–∫—Å–ø–µ—Ä—Ç–æ–≤**, –∫–∞–∂–¥—ã–π ‚Äî —ç—Ç–æ **–æ—Ç–¥–µ–ª—å–Ω—ã–π MLP-–±–ª–æ–∫** (—á–∞—Å—Ç—å FFN —Å–ª–æ—è).
> - –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ **–∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ top‚Äëk —ç–∫—Å–ø–µ—Ä—Ç–æ–≤** (–æ–±—ã—á–Ω–æ `num_experts_per_tok = 8`, 12 –∏–ª–∏ 16).
> 
> üìå –≠—Ç–æ –∑–Ω–∞—á–∏—Ç: **–¥–ª—è –æ–¥–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —ç–∫—Å–ø–µ—Ä—Ç—ã**, –æ—Å—Ç–∞–ª—å–Ω—ã–µ **–Ω–µ–∞–∫—Ç–∏–≤–Ω—ã**.
> 
> ---
> 
> ## üîç –ü—Ä–∏–º–µ—Ä:
> 
> ### –ü—É—Å—Ç—å Qwen3‚Äë30B —É—Å—Ç—Ä–æ–µ–Ω —Ç–∞–∫:
> 
> - **128 —ç–∫—Å–ø–µ—Ä—Ç–æ–≤**
> - –ö–∞–∂–¥—ã–π —ç–∫—Å–ø–µ—Ä—Ç ‚âà **300M –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤** (—É—Å–ª–æ–≤–Ω–æ)
> - –ê–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è 8 —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –Ω–∞ —Ç–æ–∫–µ–Ω
> 
> –¢–æ–≥–¥–∞:
> 
> ```text
> 8 √ó 300M = 2.4B –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —É—á–∞—Å—Ç–≤—É—é—Ç –∏–∑ 128 √ó 300M = 38.4B –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö
> ```
> 
> üëâ –í **–æ–¥–∏–Ω –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏**, –º–æ–¥–µ–ª—å **–∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ 2.4B –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤** –∏–∑ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö. 
> –ù–æ **–≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—É—á–∞–ª–∏—Å—å**, –∏ –º–æ–¥–µ–ª—å **—É–º–µ–µ—Ç –≤—ã–±–∏—Ä–∞—Ç—å –Ω—É–∂–Ω—ã—Ö**.
> 
> ---
> 
> ## üîÅ –ê –∫–∞–∫ –∂–µ "30B" –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏?
> 
> > –≠—Ç–æ ‚Äî **–≤—Å–µ–≥–æ –æ–±—É—á–∞–µ–º—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤** 
> > –ù–æ **–Ω–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö**.
> 
> ### –≠—Ç–æ –∏ –µ—Å—Ç—å **–ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ MoE**:
> - –ú–æ–¥–µ–ª—å **–±–æ–ª—å—à–∞—è –ø–æ –ø–∞–º—è—Ç–∏, –≥–∏–±–∫–æ—Å—Ç–∏, –∑–Ω–∞–Ω–∏—é**
> - –ù–æ **–ª—ë–≥–∫–∞—è –ø–æ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è–º**
> - –¢—ã –ø–æ–ª—É—á–∞–µ—à—å **–∫–∞—á–µ—Å—Ç–≤–æ –∫–∞–∫ —É 30‚Äì70B**, –Ω–æ —Å—á–∏—Ç–∞–µ—à—å –∫–∞–∫ 6‚Äì12B
> 
> ---
> 
> ## üß† –ï—Å–ª–∏ –≤–∫–ª—é—á–∏—Ç—å 1 —ç–∫—Å–ø–µ—Ä—Ç–∞?
> 
> –¢–æ–≥–¥–∞ —Ç—ã –∞–∫—Ç–∏–≤–∏—Ä—É–µ—à—å, —Å–∫–∞–∂–µ–º, **—Ç–æ–ª—å–∫–æ 300M –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤** –∏–∑ 30B.
> 
> üìå –ù–æ:
> 
> - –û—Å—Ç–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å –≤—Å—ë —Ä–∞–≤–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
>  - attention
>  - embedding
>  - –¥—Ä—É–≥–∏–µ —Å–ª–æ–∏
> - –¢–æ–ª—å–∫–æ MLP‚Äë–±–ª–æ–∫ –±—É–¥–µ—Ç ‚Äú—Ç–æ–Ω–∫–∏–º‚Äù
> - –≠—Ç–æ –º–æ–∂–µ—Ç —Å–∏–ª—å–Ω–æ —É—Ö—É–¥—à–∏—Ç—å reasoning, –ø–æ—Ç–æ–º—É —á—Ç–æ **–≤ –æ–¥–∏–Ω –º–æ–º–µ–Ω—Ç ‚Äú–¥—É–º–∞–µ—Ç‚Äù —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ —Å—É–±–ª–∏—á–Ω–æ—Å—Ç—å**
> 
> ---
> 
> ## üìä –§–æ—Ä–º—É–ª–∞:
> 
> ```text
> –ê–∫—Ç–∏–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã = Static layers + k √ó Expert size
> ```
> 
> –ì–¥–µ:
> - Static layers (attention, norm) ‚âà 5‚Äì10B
> - Expert size = ~300‚Äì400M
> - k = `num_experts_per_tok`
> 
> ---
> 
> ## ‚úÖ –í—ã–≤–æ–¥:
> 
> | –í–æ–ø—Ä–æ—Å | –û—Ç–≤–µ—Ç |
> |-----------------------------------------|----------------------------------------------|
> | 30B ‚Äî —ç—Ç–æ –≤—Å—ë —Å—Ä–∞–∑—É? | ‚ùå –ù–µ—Ç ‚Äî —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç—å –∞–∫—Ç–∏–≤–Ω–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ |
> | –û–¥–∏–Ω —ç–∫—Å–ø–µ—Ä—Ç = 1/30 –º–æ—â–Ω–æ—Å—Ç–∏? | ‚ö†Ô∏è –ù–µ —Å–æ–≤—Å–µ–º: —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç—å FFN, –æ—Å—Ç–∞–ª—å–Ω–æ–µ –≤—Å—ë —Ä–∞–≤–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç |
> | 10 —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ = –±–æ–ª—å—à–µ reasoning? | ‚úÖ –î–∞ ‚Äî –≥–ª—É–±–∂–µ, –Ω–æ –¥–æ—Ä–æ–∂–µ –ø–æ —Ä–µ—Å—É—Ä—Å–∞–º |
> | –ü–æ—á–µ–º—É MoE? | –ü–æ–ª—É—á–∞–µ–º "–º–æ–∑–≥ –∏–∑ 128 –∑–æ–Ω", –Ω–æ —Ä–∞–±–æ—Ç–∞–µ–º —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–º–∏ |
> 
> ---
> 
> –•–æ—á–µ—à—å ‚Äî —è:
> 
> - –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É—é, –∫–∞–∫ –∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è —ç–∫—Å–ø–µ—Ä—Ç—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–∞–¥–∞—á–∏;
> - –≤—ã–¥–∞–º "—ç–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫—É—é –∫–∞—Ä—Ç—É" ‚Äî —Å–∫–æ–ª—å–∫–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —É—á–∞—Å—Ç–≤—É–µ—Ç –ø—Ä–∏ 1, 8, 16 —ç–∫—Å–ø–µ—Ä—Ç–∞—Ö;
> - –∏–ª–∏ –ø–æ–∫–∞–∂—É, –∫–∞–∫ –º–æ–∂–Ω–æ "–Ω–∞—É—á–∏—Ç—å" –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –º—ã—Å–ª–∏—Ç—å —Ç–≤–æ–∏–º–∏ —Å—Ç–∏–ª—è–º–∏ (—á–µ—Ä–µ–∑ LoRA).
> 
> –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º —Ä–∞—Å–ø—É—Ç—ã–≤–∞—Ç—å –Ω–µ–π—Ä–æ—Å–æ–∑–Ω–∞–Ω–∏–µ?
<!-- UID: 16fb1f38-8083-4ec9-b8fd-cba077c1f426 -->