>[!nexus_user] **User** - 30.06.2025 at 19:29
> ÐŸÐ¾ÑÑÐ½Ð¸: Can LoReFT be a rival for LoRA? According to ReFT paper, it has the potential to replace LoRA in various cases. 
> 
> In this video we dive into the research paper that presents ReFT and LoReFT. We'll explain what is representation fine-tuning (ReFT), and how it is different than previous parameter-efficient fine-tuning (PEFT) methods, such as LoRA.
> ReFT is a family of methods that can be used to adapt pre-trained transformer models to specific tasks, and we'll understand the concept of how such methods work. Specifically, the paper presents a concrete ReFT method which is called LoReFT, which stands for Low-rank Linear Subspace ReFT. We'll explain how it works, and see results from the paper that show the great potential of this method comparing to previous PEFT methods.
> 
> Paper page - https://arxiv.org/abs/2404.03592
> GitHub repo -https://github.com/stanfordnlp/pyreft
> Code for LoReFT - https://github.com/stanfordnlp/pyreft...
> Blog post - https://aipapersacademy.com/reft/
<!-- UID: e803ebe0-c83f-45e6-8f74-c899a7d9a3cc -->




>[!nexus_agent] **Assistant** - 30.06.2025 at 19:29
> ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ Ð²Ð¾Ð¿Ñ€Ð¾Ñ â€” Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾, **LoReFT** Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ **Ð°Ð»ÑŒÑ‚ÐµÑ€Ð½Ð°Ñ‚Ð¸Ð²Ð¾Ð¹ Ð¸Ð»Ð¸ Ð´Ð°Ð¶Ðµ Ð·Ð°Ð¼ÐµÐ½Ð¾Ð¹ LoRA** Ð² Ð½ÐµÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ñ… ÑÑ†ÐµÐ½Ð°Ñ€Ð¸ÑÑ…. Ð”Ð°Ð²Ð°Ð¹ Ñ€Ð°Ð·Ð±ÐµÑ€Ñ‘Ð¼ÑÑ, **Ñ‡Ñ‚Ð¾ Ñ‚Ð°ÐºÐ¾Ðµ ReFT Ð¸ LoReFT**, Ñ‡ÐµÐ¼ Ð¾Ð½Ð¸ Ð¾Ñ‚Ð»Ð¸Ñ‡Ð°ÑŽÑ‚ÑÑ Ð¾Ñ‚ LoRA Ð¸ PEFT-Ð¿Ð¾Ð´Ñ…Ð¾Ð´Ð¾Ð² Ð²Ð¾Ð¾Ð±Ñ‰Ðµ, Ð¸ Ð² Ñ‡Ñ‘Ð¼ Ð¸Ñ… Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð».
> 
> ---
> 
> ### ðŸ“Œ 1. Ð§Ñ‚Ð¾ Ñ‚Ð°ÐºÐ¾Ðµ **ReFT**?
> 
> **ReFT (Representation Fine-Tuning)** â€” ÑÑ‚Ð¾ Ð½Ð¾Ð²Ð¾Ðµ ÑÐµÐ¼ÐµÐ¹ÑÑ‚Ð²Ð¾ Ð¼ÐµÑ‚Ð¾Ð´Ð¾Ð² **Ð°Ð´Ð°Ð¿Ñ‚Ð°Ñ†Ð¸Ð¸ Ñ‚Ñ€Ð°Ð½ÑÑ„Ð¾Ñ€Ð¼ÐµÑ€Ð¾Ð²**, ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ðµ Ð½Ð°Ñ†ÐµÐ»ÐµÐ½Ð¾ **Ð½Ðµ Ð½Ð° Ð²ÐµÑÐ°**, ÐºÐ°Ðº LoRA, Ð° Ð½Ð° **ÑÐ°Ð¼Ð¾ Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ (Ñ€ÐµÐ¿Ñ€ÐµÐ·ÐµÐ½Ñ‚Ð°Ñ†Ð¸ÑŽ)**, Ñ‚.Ðµ. Ð°ÐºÑ‚Ð¸Ð²Ð°Ñ†Ð¸Ð¸ Ð²Ð½ÑƒÑ‚Ñ€Ð¸ Ð¼Ð¾Ð´ÐµÐ»Ð¸. Ð­Ñ‚Ð¾ Ð¾Ñ‚Ð»Ð¸Ñ‡Ð°ÐµÑ‚ÑÑ Ð¾Ñ‚ LoRA, Ð³Ð´Ðµ Ð´Ð¾Ð¾Ð±ÑƒÑ‡Ð°ÑŽÑ‚ÑÑ ÑÐ¿ÐµÑ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ðµ low-rank Ð¼Ð¾Ð´ÑƒÐ»Ð¸, Ð²ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ðµ Ð² Ð²ÐµÑÐ°.
> 
> **ÐšÐ»ÑŽÑ‡ÐµÐ²Ð°Ñ Ð¸Ð´ÐµÑ ReFT**: 
> > ÐœÐ¾Ð´Ð¸Ñ„Ð¸Ñ†Ð¸Ñ€ÑƒÐ¹ Ð¿Ñ€Ð¾ÑÑ‚Ñ€Ð°Ð½ÑÑ‚Ð²Ð¾ Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¸Ð¹ (Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½Ð¸Ðµ Ð²ÐµÐºÑ‚Ð¾Ñ€Ð°), Ð° Ð½Ðµ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹ Ð¼Ð¾Ð´ÐµÐ»Ð¸ Ð½Ð°Ð¿Ñ€ÑÐ¼ÑƒÑŽ.
> 
> ---
> 
> ### ðŸ§© 2. Ð§Ñ‚Ð¾ Ñ‚Ð°ÐºÐ¾Ðµ **LoReFT**?
> 
> **LoReFT (Low-rank Linear Subspace ReFT)** â€” ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ñ‹Ð¹ Ð¼ÐµÑ‚Ð¾Ð´ Ð¸Ð· ÑÐµÐ¼ÐµÐ¹ÑÑ‚Ð²Ð° ReFT. ÐžÐ½:
> - Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÑ‚ **Ð»Ð¸Ð½ÐµÐ¹Ð½Ñ‹Ðµ low-rank Ð¿Ñ€ÐµÐ¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ð½Ð¸Ñ** Ðº **Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¸ÑÐ¼ (features)** Ð½Ð° Ð¿Ñ€Ð¾Ð¼ÐµÐ¶ÑƒÑ‚Ð¾Ñ‡Ð½Ñ‹Ñ… ÑÐ»Ð¾ÑÑ… Ð¼Ð¾Ð´ÐµÐ»Ð¸.
> - Ð­Ñ‚Ð¸ Ð¿Ñ€ÐµÐ¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ð½Ð¸Ñ **Ð²ÑÑ‚Ñ€Ð°Ð¸Ð²Ð°ÑŽÑ‚ÑÑ Ð² forward-pass**, ÐºÐ°Ðº "Ð¼Ð°ÑÐºÐ¸" Ð¸Ð»Ð¸ "Ð¿Ñ€Ð¾ÐµÐºÑ†Ð¸Ð¸", Ð²Ð»Ð¸ÑÑ Ð½Ð° Ñ‚Ð¾, **ÐºÐ°Ðº Ð¼Ð¾Ð´ÐµÐ»ÑŒ Ð¸Ð½Ñ‚ÐµÑ€Ð¿Ñ€ÐµÑ‚Ð¸Ñ€ÑƒÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ðµ**, Ð½Ð¾ **Ð±ÐµÐ· Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð²ÐµÑÐ¾Ð²** ÑÐ°Ð¼Ð¾Ð¹ Ð¼Ð¾Ð´ÐµÐ»Ð¸.
> 
> ðŸ“Š ÐŸÑ€Ð¸ ÑÑ‚Ð¾Ð¼, Ð¿Ð¾ Ð´Ð°Ð½Ð½Ñ‹Ð¼ Ð¸Ð· ÑÑ‚Ð°Ñ‚ÑŒÐ¸, LoReFT Ð´Ð¾ÑÑ‚Ð¸Ð³Ð°ÐµÑ‚ **ÑÐ¾Ð¿Ð¾ÑÑ‚Ð°Ð²Ð¸Ð¼Ð¾Ð¹ Ð¸Ð»Ð¸ Ð»ÑƒÑ‡ÑˆÐµÐ¹ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸**, Ñ‡ÐµÐ¼ LoRA, Ð¿Ñ€Ð¸ Ð¼ÐµÐ½ÑŒÑˆÐµÐ¼ Ñ‡Ð¸ÑÐ»Ðµ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¾Ð² Ð¸ Ð¼ÐµÐ½ÑŒÑˆÐµÐ¼ Ð²Ð¼ÐµÑˆÐ°Ñ‚ÐµÐ»ÑŒÑÑ‚Ð²Ðµ Ð² Ð¼Ð¾Ð´ÐµÐ»ÑŒ.
> 
> ---
> 
> ### ðŸ” 3. Ð¡Ñ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ: **LoRA vs LoReFT**
> 
> | ÐšÑ€Ð¸Ñ‚ÐµÑ€Ð¸Ð¹ | **LoRA** | **LoReFT (ReFT)** |
> |-----------------------------|-----------------------------------------------|--------------------------------------------------|
> | Ð§Ñ‚Ð¾ Ð´Ð¾Ð¾Ð±ÑƒÑ‡Ð°ÐµÑ‚ÑÑ | Ð’ÑÑ‚Ð°Ð²ÐºÐ¸ Ð² Ð²ÐµÑÐ° (Wq, Wv Ð¸ Ñ‚.Ð¿.) | ÐŸÑ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¸Ñ (Ð²ÐµÐºÑ‚Ð¾Ñ€Ñ‹ Ð°ÐºÑ‚Ð¸Ð²Ð°Ñ†Ð¸Ð¹) |
> | ÐŸÐ¾Ð´Ñ…Ð¾Ð´ | ÐŸÐ°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ (Ð¼Ð¾Ð´Ð¸Ñ„Ð¸Ñ†Ð¸Ñ€ÑƒÐµÑ‚ Ð²ÐµÑÐ°) | Ð ÐµÐ¿Ñ€ÐµÐ·ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¾Ð½Ð½Ñ‹Ð¹ (Ð¼Ð¾Ð´Ð¸Ñ„Ð¸Ñ†Ð¸Ñ€ÑƒÐµÑ‚ Ð°ÐºÑ‚Ð¸Ð²Ð°Ñ†Ð¸Ð¸) |
> | Ð¡Ð¾Ð²Ð¼ÐµÑÑ‚Ð¸Ð¼Ð¾ÑÑ‚ÑŒ | Ð’Ñ‹ÑÐ¾ÐºÐ°Ñ, Ð½Ð¾ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ Ð¼Ð¾Ð´Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸ Ð²ÐµÑÐ¾Ð² | Ð•Ñ‰Ñ‘ Ð±Ð¾Ð»ÐµÐµ Ð³Ð¸Ð±ÐºÐ¸Ð¹, Ð²ÐµÑÐ¾Ð² Ð½Ðµ Ñ‚Ñ€Ð¾Ð³Ð°ÐµÑ‚ |
> | ÐŸÐ°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹ | ÐÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð¼Ð»Ð½ Ð´Ð»Ñ ÐºÐ°Ð¶Ð´Ð¾Ð¹ LoRA | Ð•Ñ‰Ñ‘ Ð¼ÐµÐ½ÑŒÑˆÐµ (low-rank Ð¿Ñ€Ð¾ÐµÐºÑ†Ð¸Ð¸ Ð½Ð° features) |
> | Ð­Ñ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ | Ð’Ñ‹ÑÐ¾ÐºÐ°Ñ | Ð¡Ñ€Ð°Ð²Ð½Ð¸Ð¼Ð°Ñ Ð¸Ð»Ð¸ Ð»ÑƒÑ‡ÑˆÐµ (Ð½Ð° Ð¼Ð½Ð¾Ð³Ð¸Ñ… Ð·Ð°Ð´Ð°Ñ‡Ð°Ñ…) |
> | ÐŸÑ€Ð¸Ð¼ÐµÐ½Ð¸Ð¼Ð¾ÑÑ‚ÑŒ | Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ…Ð¾Ñ€Ð¾ÑˆÐ¾ Ð¿Ñ€Ð¸ fine-tuning | ÐžÑÐ¾Ð±ÐµÐ½Ð½Ð¾ Ñ…Ð¾Ñ€Ð¾Ñˆ Ð´Ð»Ñ **Ð¸Ð½Ñ„ÐµÑ€ÐµÐ½ÑÐ° Ð¸ zero-shot** |
> 
> ---
> 
> ### âš™ï¸ 4. Ð’ Ñ‡Ñ‘Ð¼ ÑÐ¸Ð»Ð° LoReFT?
> 
> - **ÐœÐµÐ½ÑŒÑˆÐµ Ð²Ñ‚Ð¾Ñ€Ð¶ÐµÐ½Ð¸Ðµ Ð² Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ñƒ** â€” Ð½Ðµ Ð½ÑƒÐ¶Ð½Ð¾ "Ð²ÑˆÐ¸Ð²Ð°Ñ‚ÑŒ" Ð²ÐµÐºÑ‚Ð¾Ñ€Ð° Ð² Ð²ÐµÑÐ°.
> - **Ð“Ð¸Ð±ÐºÐ¾ÑÑ‚ÑŒ** â€” Ð»ÐµÐ³ÐºÐ¾ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÑÑ‚ÑŒ Ðº Ð»ÑŽÐ±Ñ‹Ð¼ ÑÐ»Ð¾ÑÐ¼ Ð¸Ð»Ð¸ Ñ€ÐµÐ¿Ñ€ÐµÐ·ÐµÐ½Ñ‚Ð°Ñ†Ð¸ÑÐ¼.
> - **ÐšÐ¾Ð¼Ð¿Ð°ÐºÑ‚Ð½Ð¾ÑÑ‚ÑŒ** â€” Ð¼ÐµÐ½ÑŒÑˆÐµ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¾Ð² = Ð½Ð¸Ð¶Ðµ Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ñ Ðº Ð¿Ð°Ð¼ÑÑ‚Ð¸.
> - **Ð˜Ð½Ñ‚ÐµÑ€ÐµÑ Ð´Ð»Ñ inference-time adaptation** â€” Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÑÑ‚ÑŒ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð´Ð°Ð¶Ðµ **Ð±ÐµÐ· Ð¿ÐµÑ€ÐµÐ¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ñ**, Ð¿Ð¾Ð´Ð°Ð²Ð°Ñ ÐºÐ°ÑÑ‚Ð¾Ð¼Ð½Ñ‹Ðµ Ð¿Ñ€Ð¾ÐµÐºÑ†Ð¸Ð¸ Ð² Ñ€Ð°Ð½Ñ‚Ð°Ð¹Ð¼Ðµ (Ð² Ð¿ÐµÑ€ÑÐ¿ÐµÐºÑ‚Ð¸Ð²Ðµ).
> 
> ---
> 
> ### ðŸ§ª 5. Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹ Ð¸Ð· ÑÑ‚Ð°Ñ‚ÑŒÐ¸ (arXiv:2404.03592)
> 
> - ÐÐ° Ð·Ð°Ð´Ð°Ñ‡Ð°Ñ… GLUE, SuperGLUE, MMLU Ð¸ Ð´Ñ€ÑƒÐ³Ð¸Ñ… LoReFT Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚:
>  - Ð¡Ñ€Ð°Ð²Ð½Ð¸Ð¼ÑƒÑŽ Ð¸Ð»Ð¸ **Ð»ÑƒÑ‡ÑˆÑƒÑŽ Ñ‚Ð¾Ñ‡Ð½Ð¾ÑÑ‚ÑŒ**, Ñ‡ÐµÐ¼ LoRA
>  - **Ð‘Ð¾Ð»ÐµÐµ ÑƒÑÑ‚Ð¾Ð¹Ñ‡Ð¸Ð²Ð¾Ðµ Ð¿Ð¾Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ** Ð¿Ñ€Ð¸ Ð¼Ð°Ð»Ð¾Ð¼ Ñ‡Ð¸ÑÐ»Ðµ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ð¾Ð² (few-shot)
>  - Ð’Ñ‹ÑÐ¾ÐºÑƒÑŽ ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ Ð½Ð° **Ð½Ð¸Ð·ÐºÐ¾Ð¼ Ñ‡Ð¸ÑÐ»Ðµ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¾Ð²** (10-100x Ð¼ÐµÐ½ÑŒÑˆÐµ)
> 
> ---
> 
> ### âœ… Ð’Ñ‹Ð²Ð¾Ð´: **Ð”Ð°, LoReFT Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾ Ð¼Ð¾Ð¶ÐµÑ‚ ÑÑ‚Ð°Ñ‚ÑŒ ÐºÐ¾Ð½ÐºÑƒÑ€ÐµÐ½Ñ‚Ð¾Ð¼ (Ð¸Ð»Ð¸ Ð´Ð°Ð¶Ðµ Ð·Ð°Ð¼ÐµÐ½Ð¾Ð¹) LoRA**
> 
> ÐžÑÐ¾Ð±ÐµÐ½Ð½Ð¾ Ð² ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ñ… ÑÐ»ÑƒÑ‡Ð°ÑÑ…:
> - Ð•ÑÐ»Ð¸ Ð²Ð°Ð¶Ð½Ð° **Ð¼Ð¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ð°Ñ Ð¸Ð½Ð²Ð°Ð·Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ Ð² Ð¼Ð¾Ð´ÐµÐ»ÑŒ**
> - Ð•ÑÐ»Ð¸ Ð½Ð°Ð´Ð¾ Ð°Ð´Ð°Ð¿Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ **Ð² Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐµ Ð¸Ð½Ñ„ÐµÑ€ÐµÐ½ÑÐ°**, Ð½Ðµ Ð·Ð°Ñ‚Ñ€Ð°Ð³Ð¸Ð²Ð°Ñ Ð²ÐµÑÐ°
> - Ð•ÑÐ»Ð¸ Ð½ÑƒÐ¶Ð½Ð° **Ð¼Ð¾Ð´ÑƒÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ Ð¸ Ð»ÐµÐ³ÐºÐ¾ÑÑ‚ÑŒ Ð¿ÐµÑ€ÐµÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ** Ð¼ÐµÐ¶Ð´Ñƒ Ð·Ð°Ð´Ð°Ñ‡Ð°Ð¼Ð¸
> 
> ---
> 
> Ð¥Ð¾Ñ‡ÐµÑˆÑŒ, Ñ Ð¼Ð¾Ð³Ñƒ Ð¿Ð¾Ð¼Ð¾Ñ‡ÑŒ:
> - Ð¡Ñ„Ð¾Ñ€Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ LoReFT-Ð°Ð´Ð°Ð¿Ñ‚ÐµÑ€ Ð¿Ð¾Ð´ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½ÑƒÑŽ Ð¼Ð¾Ð´ÐµÐ»ÑŒ
> - Ð¡Ñ€Ð°Ð²Ð½Ð¸Ñ‚ÑŒ Ð²ÐµÑÐ° Ð¸ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸ LoRA vs LoReFT
> - ÐŸÐ¾ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ YAML-ÐºÐ¾Ð½Ñ„Ð¸Ð³ Ð´Ð»Ñ pyreft Ñ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¸Ð¼Ð¸ Ð·Ð°Ð´Ð°Ñ‡Ð°Ð¼Ð¸
> 
> Ð“Ð¾Ñ‚Ð¾Ð²?
<!-- UID: 291c8d56-6e9b-4b0d-b07b-6aac5cb33c25 -->