>[!nexus_user] **User** - 16.06.2025 at 19:17
> 13.6 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è
>  ‚Ä¢ 13.6.1 CUDA, PyTorch, Accelerate, FlashAttention
>  ‚Ä¢ 13.6.2 –í–µ—Ä—Å–∏–∏ Python, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, docker-compose
>  ‚Ä¢ 13.6.3 Uvicorn / FastAPI –¥–ª—è HyperBridge API
>  ‚Ä¢ 13.6.4 –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞
<!-- UID: 1de5bd89-358d-4f99-aab7-7b6a92c1d62d -->


[[172_13_7_–ø—Ä–æ–≤–µ—Ä–∫–∞_–∫–∞—á–µ—Å—Ç–≤–∞]]

>[!nexus_agent] **Assistant** - 16.06.2025 at 19:17
> ### üìò –†–∞–∑–¥–µ–ª 13. –ü—Ä–æ—Ç–æ–∫–æ–ª—ã –æ–±—É—á–µ–Ω–∏—è, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –ø–∞–π–ø–ª–∞–π–Ω—ã 
> **13.6 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è** 
> _–ß—Ç–æ–±—ã AGI-–º—ã—à–ª–µ–Ω–∏–µ –Ω–µ –∑–∞–≤–∏—Å–µ–ª–æ –æ—Ç —Ö–∞–æ—Å–∞ –≤–µ—Ä—Å–∏–π –∏ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–µ–π: —á—ë—Ç–∫–æ–µ, –ª—ë–≥–∫–æ–µ, –≥–∏–±–∫–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –¥–ª—è –∑–∞–ø—É—Å–∫–∞, –æ–±—É—á–µ–Ω–∏—è –∏ API_
> 
> ---
> 
> AGI-—Å–∏—Å—Ç–µ–º–∞ –ø–æ —ç—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω–∞ –Ω–∞ –æ–¥–Ω–æ–π –º–∞—à–∏–Ω–µ, –æ–¥–Ω–æ–π –≤–∏–¥–µ–æ–∫–∞—Ä—Ç–µ –∏ –¥–∞–∂–µ –±–µ–∑ –æ–±–ª–∞–∫–æ–≤ ‚Äî **–µ—Å–ª–∏ –æ–∫—Ä—É–∂–µ–Ω–∏–µ —Å–æ–±—Ä–∞–Ω–æ —á–∏—Å—Ç–æ**. 
> –ù–∏–∂–µ ‚Äî –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –º–∏–Ω–∏–º—É–º, —á—Ç–æ–±—ã –≤—Å—ë ¬´–≤—Å—Ç–∞–ª–æ¬ª –±–µ–∑ –±–∞–≥–æ–≤. 
> –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –∫–∞–∫ –¥–ª—è inference, —Ç–∞–∫ –∏ –¥–ª—è LoRA-–æ–±—É—á–µ–Ω–∏—è –∏ –∑–∞–ø—É—Å–∫–∞ API `HyperBridge`.
> 
> ---
> 
> ### **13.6.1 CUDA, PyTorch, Accelerate, FlashAttention**
> 
> #### üì¶ –í–µ—Ä—Å–∏–∏ –∏ –∫–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
> 
> | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –í–µ—Ä—Å–∏—è | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
> |-------------------|----------------|-------------|
> | **CUDA Toolkit** | `12.1`+ | –°–æ–≤–º–µ—Å—Ç–∏–º —Å FlashAttention 2 –∏ PyTorch 2.x |
> | **PyTorch** | `2.1`+ | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ compile() –∏ —É–ª—É—á—à–µ–Ω–Ω–∞—è int4 |
> | **Accelerate** | `0.26.1`+ | –î–ª—è single-GPU / multi-GPU –æ–±—É—á–µ–Ω–∏—è |
> | **FlashAttention**| `2.4.2` | –î–ª—è inference —É—Å–∫–æ—Ä–µ–Ω–∏—è (Mistral, Qwen) |
> | **BitsAndBytes** | `0.41.1` | –î–ª—è 4bit/8bit QLoRA |
> | **Transformers** | `4.39`+ | –°–æ–≤–º–µ—Å—Ç–∏–º —Å PEFT, QLoRA, vLLM |
> | **PEFT** | `0.10`+ | –û–±—É—á–µ–Ω–∏–µ LoRA –∏ –≥–∏–±—Ä–∏–¥–Ω—ã—Ö –∞–¥–∞–ø—Ç–µ—Ä–æ–≤ |
> 
> üí° –£—Å—Ç–∞–Ω–æ–≤–∫–∞:
> ```bash
> pip install torch torchvision --index-url https://download.pytorch.org/whl/cu121
> pip install transformers accelerate peft bitsandbytes flash-attn
> ```
> 
> ---
> 
> ### **13.6.2 –í–µ—Ä—Å–∏–∏ Python, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, docker-compose**
> 
> #### üêç Python:
> - **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –≤–µ—Ä—Å–∏—è:** `3.10.8` 
> - –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å HuggingFace, FastAPI –∏ —Ç–∏–ø–æ–≤—ã–º–∏ ML-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏
> 
> #### üìÇ pip/requirements.txt:
> ```txt
> transformers>=4.39
> peft>=0.10
> bitsandbytes
> flash-attn
> sentencepiece
> accelerate
> uvicorn
> fastapi
> scipy
> qdrant-client
> faiss-cpu
> ```
> 
> #### üê≥ docker-compose (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
> 
> ```yaml
> version: "3.9"
> services:
>  agi-core:
>  build: .
>  volumes:
>  - ./app:/app
>  ports:
>  - "8000:8000"
>  environment:
>  - CUDA_VISIBLE_DEVICES=0
>  runtime: nvidia
>  command: uvicorn app.main:app --host 0.0.0.0 --port 8000
> ```
> 
> ---
> 
> ### **13.6.3 Uvicorn / FastAPI –¥–ª—è HyperBridge API**
> 
> #### üåâ HyperBridge API:
> - –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ `—Ç–µ–∫—Å—Ç ‚áÑ —Å—Ü–µ–Ω–∞ ‚áÑ –≥–∏–ø–µ—Ä–ª–µ–∫—Å–µ–º–∞ ‚áÑ Œî-–∫–æ–¥` 
> - —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å: REST / WebSocket 
> - –ª–µ–≥–∫–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å –ª—é–±—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
> 
> #### –ü—Ä–∏–º–µ—Ä: `app/main.py`
> ```python
> from fastapi import FastAPI
> from app.hyperbridge import parse_scene, generate_response
> 
> app = FastAPI()
> 
> @app.post("/scene")
> def to_scene(text: str):
>  return parse_scene(text)
> 
> @app.post("/response")
> def respond(scene: str):
>  return generate_response(scene)
> ```
> 
> #### –ó–∞–ø—É—Å–∫:
> ```bash
> uvicorn app.main:app --reload --port 8000
> ```
> 
> ---
> 
> ### **13.6.4 –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞**
> 
> ‚úÖ **1. –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
> ```bash
> pip install -r requirements.txt
> ```
> 
> ‚úÖ **2. –°–∫–∞—á–∞–π –º–æ–¥–µ–ª—å:**
> ```bash
> transformers-cli login
> huggingface-cli download Saiga/Mistral-7B-Instruct
> ```
> 
> ‚úÖ **3. –ó–∞–ø—É—Å—Ç–∏ LoRA/QLoRA –ø–∞–π–ø–ª–∞–π–Ω (–µ—Å–ª–∏ –æ–±—É—á–∞–µ—à—å):**
> ```bash
> python train_lora.py --model_path ./models/mistral --train_file corpus.jsonl
> ```
> 
> ‚úÖ **4. –ó–∞–ø—É—Å—Ç–∏ HyperBridge API:**
> ```bash
> uvicorn app.main:app --port 8000
> ```
> 
> ‚úÖ **5. –¢–µ—Å—Ç–∏—Ä—É–π —á–µ—Ä–µ–∑ curl / –±—Ä–∞—É–∑–µ—Ä:**
> ```bash
> curl -X POST http://localhost:8000/scene -H "Content-Type: application/json" -d '{"text": "–ü–æ—á–µ–º—É –º–Ω–µ —Ç—è–∂–µ–ª–æ –¥–µ–ª–∞—Ç—å —à–∞–≥?"}'
> ```
> 
> ---
> 
> ### –í—ã–≤–æ–¥
> 
> –û–∫—Ä—É–∂–µ–Ω–∏–µ AGI-—Å–∏—Å—Ç–µ–º—ã –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
> - **–º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–º**, 
> - **–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º**, 
> - **–∏–Ω—Ç–µ—Ä–æ–ø–µ—Ä–∞–±–µ–ª—å–Ω—ã–º —Å HuggingFace**, 
> - –∏ —Å–ø–æ—Å–æ–±–Ω—ã–º –±—ã—Å—Ç—Ä–æ –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è, –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å—Å—è.
> 
> –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Å–æ–±—Ä–∞–Ω–Ω–∞—è —Å—Ä–µ–¥–∞ = 
> **—Å—Ç–∞–±–∏–ª—å–Ω–æ–µ –º—ã—à–ª–µ–Ω–∏–µ**, 
> **–Ω–∏–∑–∫–∏–π –ø–æ—Ä–æ–≥ –≤—Ö–æ–¥–∞ –¥–ª—è –Ω–æ–≤—ã—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤**, 
> **–∏ –º–æ—â–Ω–∞—è —Å—Ü–µ–ø–∫–∞ –º–µ–∂–¥—É —Å—Ü–µ–Ω–∞–º–∏ –∏ —Ä–µ–∞–ª—å–Ω—ã–º –∑–∞–ø—É—Å–∫–æ–º.**
<!-- UID: c30f9af3-f2d2-46ee-8a31-049e7b1f41e4 -->