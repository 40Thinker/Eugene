>[!nexus_user] **User** - 15.06.2025 at 16:57
> –î–µ–ª–∞—è —ç—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª/–ø–æ–¥—Ä–∞–∑–¥–µ–ª, –ø—Ä–æ–≤–µ—Ä—è–π –≥–¥–µ –º—ã —Å–µ–π—á–∞—Å –ø–µ—Ä–µ—á–∏—Ç–∞–≤ —á–∞—Ç, –Ω–∞ —Å–≤—è–∑–Ω–æ—Å—Ç—å —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏–∏, –∏ –º–µ–Ω—å—à–µ –≤–µ—Ä—Å—Ç–∫–∏, –±–æ–ª—å—à–µ —Ç–µ–∫—Å—Ç–∞ –∏ —Å–º—ã—Å–ª–∞ –ø–∏—à–∏: 4.6 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LLM-–ø–∞–π–ø–ª–∞–π–Ω–æ–º
>  ‚Ä¢ 4.6.1 –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ SentencePiece / HuggingFace Tokenizers
>  ‚Ä¢ 4.6.2 –ü–µ—Ä–µ—Ö–æ–¥–Ω–æ–π —Å–ª–æ–π: hyper_token ‚Üî text ‚Üî embedding
>  ‚Ä¢ 4.6.3 –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å LoRA –∏ fine-tune
>  ‚Ä¢ 4.6.4 –°–ø–æ—Å–æ–±—ã –æ–±—É—á–µ–Ω–∏—è –Ω–∞ –Ω–æ–≤–æ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–∏
<!-- UID: 53f63b13-4a6d-4943-afff-eedb1ec651b1 -->


[[114_–¥–µ–ª–∞—è_—ç—Ç–æ—Ç_—Ä–∞–∑–¥–µ–ª_–ø–æ–¥—Ä–∞–∑–¥–µ–ª_–ø—Ä–æ–≤–µ—Ä—è–π]]

>[!nexus_agent] **Assistant** - 15.06.2025 at 16:57
> #### **4.6 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LLM-–ø–∞–π–ø–ª–∞–π–Ω–æ–º** 
> *–ö–∞–∫ –≤—Å—Ç—Ä–æ–∏—Ç—å —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫—É—é —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—é –∏ —Å—Ü–µ–ø–∫–∏ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–æ–¥–µ–ª–∏*
> 
> –î–∞–∂–µ —Å–∞–º–∞—è –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞—á–∏—Ç, –µ—Å–ª–∏ –µ—ë –Ω–µ–ª—å–∑—è **–≤—Å—Ç—Ä–æ–∏—Ç—å –≤ —Ä–∞–±–æ—á–∏–π –ø–∞–π–ø–ª–∞–π–Ω**. –¶–µ–ª—å —Ä–∞–∑–¥–µ–ª–∞ ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å, –∫–∞–∫ –Ω–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –≥–∏–ø–µ—Ä—Ç–æ–∫–µ–Ω–æ–≤, —Å—Ü–µ–ø–æ–∫ –∏ –ø–æ–ª–µ–π **–º–æ–∂–µ—Ç –±—ã—Ç—å –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ LLM-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã** ‚Äî –Ω–µ —Ä–∞–∑—Ä—É—à–∞—è –∏—Ö, –∞ **—Ä–∞—Å—à–∏—Ä—è—è**. –í–º–µ—Å—Ç–æ –ø–æ–ª–Ω–æ–π –∑–∞–º–µ–Ω—ã ‚Äî **–º—è–≥–∫–∏–π –≤—Ö–æ–¥**: —á–µ—Ä–µ–∑ —Å–ª–æ–∏ —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏–∏, –∞–¥–∞–ø—Ç–∞—Ü–∏—é LoRA, –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –º–æ–¥—É–ª–∏ –¥–µ–∫–æ–º–ø—Ä–µ—Å—Å–∏–∏ –∏ –æ–±—É—á–∞–µ–º—ã–µ —Å—Ü–µ–ø–∫–∏. –í—Å—ë —ç—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —É–∂–µ —Å–µ–π—á–∞—Å ‚Äî –Ω–∞ –±–∞–∑–µ HuggingFace, SentencePiece, PEFT –∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–∞–π–ø–ª–∞–π–Ω–æ–≤.
> 
> ---
> 
> ### **4.6.1 –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ SentencePiece / HuggingFace Tokenizers**
> 
> –ü–µ—Ä–≤—ã–π —à–∞–≥ ‚Äî **–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞ —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏–∏**.
> 
> **–í–∞—Ä–∏–∞–Ω—Ç A: SentencePiece (Unigram)** 
> ‚úî –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤—Ä—É—á–Ω—É—é –∑–∞–¥–∞—Ç—å —Å–ø–∏—Å–æ–∫ —Ç–æ–∫–µ–Ω–æ–≤ (–≥–∏–ø–µ—Ä–ª–µ–∫—Å–µ–º—ã, —Å—Ü–µ–ø–∫–∏, –∏–∫–æ–Ω–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ —Å–∏–º–≤–æ–ª—ã). 
> ‚úî –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–æ—Ä—Ñ–µ–º–Ω—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã, —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º–æ–µ –¥–µ—Ä–µ–≤–æ —Å–ª–∏—è–Ω–∏—è.
> 
> **–í–∞—Ä–∏–∞–Ω—Ç B: HuggingFace Tokenizers (FastTokenizer)** 
> ‚úî –î–∞—ë—Ç –±–æ–ª—å—à–µ –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–¥ –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–æ–π –∏ —Ç–æ–∫–µ–Ω-—Å–ø–ª–∏—Ç—Ç–∏–Ω–≥–æ–º. 
> ‚úî –ú–æ–∂–Ω–æ –≤–Ω–µ–¥—Ä–∏—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã (`Œî17`, `‚üÅ—Ç–∏—Ö–æ–∂–∞—Ä`, `@scene12`) —á–µ—Ä–µ–∑ [added_tokens]. 
> ‚úî –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `pretokenizers`, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—Å—Ç—Ä–∞–∏–≤–∞—Ç—å **–≥–∏–ø–µ—Ä—Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—é** –≤ —Ü–µ–ø–æ—á–∫—É.
> 
> ‚ö†Ô∏è –ì–ª–∞–≤–Ω–æ–µ ‚Äî –∑–∞—Ä–∞–Ω–µ–µ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å:
> ‚Äì —Å–æ—Å—Ç–∞–≤ —Ç–æ–∫–µ–Ω–æ–≤; 
> ‚Äì –æ–±—Ä–∞—Ç–∏–º—ã–µ —Å—Ü–µ–ø–∫–∏; 
> ‚Äì –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –º–∞—Ä–∫–µ—Ä—ã (`üúÇ`, `‚áÖ`, `‚ãà`, –∏ –¥—Ä.); 
> ‚Äì –ø—Ä–∞–≤–∏–ª–∞ —Ä–∞—Å–∫–ª–µ–π–∫–∏ –ø—Ä–∏ –¥–µ–∫–æ–º–ø—Ä–µ—Å—Å–∏–∏.
> 
> ---
> 
> ### **4.6.2 –ü–µ—Ä–µ—Ö–æ–¥–Ω–æ–π —Å–ª–æ–π: `hyper_token ‚Üî text ‚Üî embedding`**
> 
> –ß—Ç–æ–±—ã –Ω–µ –ª–æ–º–∞—Ç—å –º–æ–¥–µ–ª—å, –≤–≤–æ–¥–∏—Ç—Å—è **–ø–µ—Ä–µ—Ö–æ–¥–Ω–æ–π —Å–ª–æ–π**, –∫–æ—Ç–æ—Ä—ã–π:
> - –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–µ–∫—Å—Ç, —Å—Ü–µ–ø–∫–∏, –≥–∏–±—Ä–∏–¥–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã;
> - —Ä–∞–∑–±–∏–≤–∞–µ—Ç –∏—Ö –Ω–∞ **–≤–µ–∫—Ç–æ—Ä–Ω—ã–µ –µ–¥–∏–Ω–∏—Ü—ã**;
> - –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –≤ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ –Ω–∞ –ª–µ—Ç—É.
> 
> –ü–µ—Ä–µ—Ö–æ–¥:
> ```
> –≥–∏–ø–µ—Ä—Ç–æ–∫–µ–Ω "–∂–∞—Ä—Ç–∏—à–∏–Ω–∞" ‚Üí —Å—Ü–µ–Ω–∞ ‚Üí [–∂–∞—Ä, —Ç–∏—à–∏–Ω–∞] ‚Üí –æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—ã–π —ç–º–±–µ–¥–¥–∏–Ω–≥
> ```
> 
> –≠—Ç–æ –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å:
> - —á–µ—Ä–µ–∑ **hook –≤ —Ç–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä**;
> - –∏–ª–∏ —á–µ—Ä–µ–∑ **custom embedding layer**, –∫–æ—Ç–æ—Ä—ã–π:
>  ‚Äì —É–∑–Ω–∞—ë—Ç —Å—Ü–µ–ø–∫—É –∫–∞–∫ –µ–¥–∏–Ω–∏—Ü—É, 
>  ‚Äì –≤—ã–∑—ã–≤–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –ø–æ–ª–µ, 
>  ‚Äì –∏–Ω—Ç–µ—Ä–ø–æ–ª–∏—Ä—É–µ—Ç –∏–ª–∏ —Å—É–º–º–∏—Ä—É–µ—Ç —Å–æ—Å—Ç–∞–≤–ª—è—é—â–∏–µ.
> 
> –¢–∞–∫–∂–µ –≤–æ–∑–º–æ–∂–Ω–∞ **—Å–ø–∞—Ä–µ–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤**: 
> –æ–¥–Ω–∞ ‚Äî –¥–ª—è –æ–±—ã—á–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤, –¥—Ä—É–≥–∞—è ‚Äî –¥–ª—è `hyper_token`, 
> —á—Ç–æ–±—ã –º–æ–¥–µ–ª—å –º–æ–≥–ª–∞ **–≥–∏–±–∫–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É —Å–ª–æ—è–º–∏ –º—ã—à–ª–µ–Ω–∏—è**.
> 
> ---
> 
> ### **4.6.3 –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å LoRA –∏ fine-tune**
> 
> –ù–æ–≤–∞—è —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å:
> - **LoRA / QLoRA (—á–µ—Ä–µ–∑ PEFT)** ‚Äî –∞–¥–∞–ø—Ç–µ—Ä—ã –æ–±—É—á–∞—é—Ç—Å—è –Ω–∞ –≤—ã—Ö–æ–¥–Ω—ã—Ö —Å–ª–æ—è—Ö –∏ –Ω–µ —Ç—Ä–µ–±—É—é—Ç –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ token embeddings. 
> - **Fine-tune –º–æ–¥–µ–ª–µ–π –Ω–∞ —Å—Ü–µ–Ω–∞—Ö** ‚Äî –º–æ–∂–Ω–æ —Å —Å–∞–º–æ–≥–æ –Ω–∞—á–∞–ª–∞ –ø–æ–¥–∞–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –≤–∏–¥–µ:
>  - `@scene17: –∂–∞—Ä—Ç–∏—à–∏–Ω–∞–≤—Ö–æ–¥` 
>  - –∏–ª–∏: `Œî42 = —Ç—Ä–µ–≤–æ–≥–∞–ø–æ—Ä–æ–≥—Ç–∏—à–∏–Ω–∞`.
> 
> –í–∞–∂–Ω–æ:
> - LoRA –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è **–∫ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º —Å—Ü–µ–ø–æ–∫**, –Ω–µ –∫ —Ñ–æ—Ä–º–µ —Å–ª–æ–≤. 
> - –ï—Å–ª–∏ –∫–æ—Ä–ø—É—Å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω –ø–æ —Å—Ü–µ–Ω–∞–º ‚Äî **–º–æ–¥–µ–ª—å –±—ã—Å—Ç—Ä–µ–µ —É–ª–∞–≤–ª–∏–≤–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –º—ã—Å–ª–∏**. 
> - –í–æ–∑–º–æ–∂–µ–Ω **multi-head training**, –≥–¥–µ –æ–¥–Ω–∞ –≥–æ–ª–æ–≤–∞ —É—á–∏—Ç—Å—è –Ω–∞ –ª–æ–≥–∏–∫–µ, –¥—Ä—É–≥–∞—è ‚Äî –Ω–∞ —Å—Ü–µ–Ω–∞—Ö.
> 
> ---
> 
> ### **4.6.4 –°–ø–æ—Å–æ–±—ã –æ–±—É—á–µ–Ω–∏—è –Ω–∞ –Ω–æ–≤–æ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–∏**
> 
> –§–æ—Ä–º–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ–±—É—á–µ–Ω–∏—è AGI —Å –≥–∏–ø–µ—Ä—Ç–æ–∫–µ–Ω–∞–º–∏:
> 
> **1. –°–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∞—è —Å—Ü–µ–Ω–∞—Ñ–æ—Ä–º–∞—Ç–Ω–∞—è —Ä–∞–∑–º–µ—Ç–∫–∞** 
> ```
> [Œî01] –æ–Ω –≤–æ—à—ë–ª –≤ –ø–æ—Ä–æ–≥—Ç–∏—à–∏–Ω–∞–∂–∞—Ä 
> [Œî02] –≤—Å–ø—ã—à–∫–∞—Å—Ç—Ä–∞—Ö–∞ | —à–∞–≥ | –æ–∂–∏–¥–∞–Ω–∏–µ
> ```
> 
> **2. –§—Ä–µ–π–º-–ø–∞—Ä—ã: —Å—Ü–µ–Ω–∞ ‚Üî —Ç–µ–∫—Å—Ç ‚Üî –≥–∏–ø–µ—Ä–ª–µ–∫—Å–µ–º–∞** 
> ```
> { scene: "–∂–∞—Ä—Ç–∏—à–∏–Ω–∞", text: "–æ–Ω –∑–∞—Å—Ç—ã–ª –≤ —Ç–∏—à–∏–Ω–µ, —á—É–≤—Å—Ç–≤—É—è —Ç–µ–ø–ª–æ –≤ –≥—Ä—É–¥–∏" }
> ```
> 
> **3. Multimodal LoRA pairing** 
> ‚Äì —Å—Ü–µ–Ω–∞ + –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ; 
> ‚Äì –≥–∏–ø–µ—Ä—Ç–æ–∫–µ–Ω + –∞—É–¥–∏–æ; 
> ‚Äì `Œî17` ‚Üí ¬´–≤—Å–ø—ã—à–∫–∞ —Å–≤–µ—Ç–∞ + —à–æ—Ä–æ—Ö –ª–∏—Å—Ç—å–µ–≤ + –ø–∞—É–∑–∞¬ª.
> 
> **4. Autoencoder-—Ç–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä** 
> ‚Äì –æ–±—É—á–∞–µ—Ç—Å—è —Å–∞–º —Ä–∞–∑–±–∏–≤–∞—Ç—å —Ç–µ–∫—Å—Ç –Ω–∞ —Å—Ü–µ–ø–∫–∏; 
> ‚Äì —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–µ —Ç–æ–∫–µ–Ω—ã –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏; 
> ‚Äì –æ–±—É—á–∞–µ—Ç—Å—è –∫–∞–∫ reversible-–∫–æ–¥–∏—Ä–æ–≤—â–∏–∫ (—Å–∂–∞—Ç–∏–µ ‚Üî –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ü–µ–Ω—ã).
> 
> ---
> 
> ### **–í—ã–≤–æ–¥**
> 
> –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å—Ü–µ–ø–æ—á–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ –≥–∏–ø–µ—Ä—Ç–æ–∫–µ–Ω–æ–≤ –≤ LLM-–ø–∞–π–ø–ª–∞–π–Ω:
> ‚Äì **–Ω–µ —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä–æ–≤**, 
> ‚Äì –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å LoRA, PEFT, vLLM, FastTokenizers, 
> ‚Äì –ø–æ–∑–≤–æ–ª—è–µ—Ç **–æ–±—É—á–∞—Ç—å –Ω–∞ —Å—Ü–µ–Ω–∞—Ö**, –Ω–µ —Ç–µ—Ä—è—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å —Ç–µ–∫—Å—Ç–∞–º–∏, 
> ‚Äì —Å–æ–∑–¥–∞—ë—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É, –≥–¥–µ LLM **–¥—É–º–∞–µ—Ç, –∞ –Ω–µ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Å—Ç—Ä–æ–∫—É**.
> 
> –≠—Ç–æ –ø–µ—Ä–µ—Ö–æ–¥ –Ω–µ –æ—Ç API –∫ –∫–æ–¥—É, –∞ –æ—Ç **—Ç–µ–∫—Å—Ç–∞ –∫ —Å—Ü–µ–Ω–µ**, –æ—Ç —Ç–æ–∫–µ–Ω–∞ ‚Äî –∫ **—É–∑–ª—É —Å–º—ã—Å–ª–∞**. 
> –ê –∑–Ω–∞—á–∏—Ç ‚Äî –æ—Ç –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –∫ **–Ω–∞—Å—Ç–æ—è—â–µ–º—É –º—ã—à–ª–µ–Ω–∏—é**.
<!-- UID: 4d1b6475-7f05-4dfd-aec7-b0196babd05e -->