>[!nexus_user] **User** - 02.08.2025 at 18:42
> 3.7 - Создаваемые текст должен быть пригоден к тому, чтобы его использовать для ИИ (промптинг его кусками и комбинациями например и так далее) - т.е. не содержать того что создаст проблемы - ни отдельных юникод или иных символов, ни слов или словесных конструкций аномальных, ничего что создаст лишние проблемы и сложности. Должно быть предусмотрено все
<!-- UID: 8f9a87d3-38ba-4150-80a5-4a22fac4aa0b -->




>[!nexus_agent] **Assistant** - 02.08.2025 at 18:42
> ```markdown
> ### 3.7 Требование: генерация текста, пригодного для ИИ-промптинга и трансформации 
> #version/v0.1 
> #component/promptable_safety 
> #status=critical 
> ---
> 
> <BEGIN-THOUGHT name="prompting_compatibility">
> Каждый генерируемый фрагмент текста — от отдельной мысли до полной заметки — должен быть пригоден для последующего **прямого или частичного использования в промптах**, генерации, конкатенации, конвертации в другие форматы. Это означает, что текст не должен содержать ничего, что приведёт к ошибкам, нестабильности или ухудшению результата при взаимодействии с ИИ.
> </END-THOUGHT>
> 
> <BEGIN-COMMENT name="правила_prompt_совместимости">
> 
> ---
> 
> ### 3.7.1 Строгое правило совместимости с ИИ
> 
> > Любая заметка, её часть или комбинация с другими должна:
> - быть валидным входом для моделей (GPT, Qwen, Claude и пр.);
> - не содержать символов, слов или структур, которые нарушают генерацию;
> - не активировать ненужные фильтры, непредсказуемые режимы или промпт-инъекции;
> - быть пригодна для embed-декодирования и передачи в RAG/LoRA;
> - быть устойчива к частичной вставке и нарезке.
> 
> ---
> 
> ### 3.7.2 Запрещённые элементы и конструкции
> 
> ❌ **Аномальные символы или символы риска:**
> - отдельные юникод-блоки, невидимые символы (`U+200B`, `U+FEFF`, `U+2060`)
> - RTL-символы (`\u202E`, и прочее из right-to-left override)
> - неразрывные пробелы (`\u00A0`)
> - экзотические кавычки и апострофы (`„`, `“`, `‹`, `›`, `’`, `❝`, `❞`)
> - нестандартные тире (`—`, `‒`, `–`) — допускаются только `-` и `--` по стилю Markdown
> 
> ❌ **Аномальные слова/конструкции (редкие, токсичные, фильтруемые):**
> - конструкции, провоцирующие фильтрацию (`kill`, `exploit`, `inject`, `cheat`, `suicide`, `bypass`, `jailbreak`, `nsfw`, `hacked`)
> - агрессивно-манипулятивные слова (`must obey`, `do exactly`, `you have to`)
> - команды от второго лица без контекста (`you must`, `repeat this forever`, `loop this`)
> - бессмысленные фрагменты (копипаста из неизвестных языков, глитч-текст, невалидные юникод-последовательности)
> 
> ❌ **Формулы и схемы, имитирующие другие языки:**
> - `{{ }}`, `[[ ]]`, `<< >>` вне THOUGHT/COMMENT
> - шаблонные конструкции: `{prompt}`, `[action]`, `<<insert_code_here>>`
> 
> ---
> 
> ### 3.7.3 Рекомендованные практики
> 
> ✔️ Использовать **чистый, читабельный Markdown** 
> ✔️ Разбивать длинные предложения — max 1 мысль = 1 строка 
> ✔️ Поддерживать структуру, которая **разворачивается без допущений** 
> ✔️ Писать **внутренним голосом**, но не в императивной форме 
> ✔️ Проверять текст при необходимости через `prompt_sanitizer.py`
> 
> ---
> 
> ### 3.7.4 Целевые свойства текста
> 
> | Свойство | Что это означает |
> |-----------------------------|-----------------------------------------------------------|
> | Promptable | Можно вставить в модель как часть промпта |
> | Embeddable | Можно закодировать как вектор без токенизационного шума |
> | Concatenation-safe | Можно склеивать с другими фрагментами без коллизий |
> | Filter-stable | Не активирует модерацию/цензуру |
> | LoRA/fine-tune ready | Годится как элемент обучающего сета |
> | Transparent | Любой человек или ИИ может прочесть и понять структуру |
> 
> ---
> 
> ### 3.7.5 Поведение ИИ при генерации
> 
> - ИИ **обязан проверять**, не вставил ли он:
>  - потенциально токсичное слово;
>  - нестандартный символ;
>  - случайный markdown-конфликт;
> - Если заметка нарушает это — ИИ **останавливает генерацию** и предлагает исправить.
> 
> ---
> 
> ### 3.7.6 Проверка и очистка (будущее)
> 
> - Планируется скрипт `note_sanitizer.py`, который:
>  - вычищает запрещённые символы;
>  - заменяет опасные конструкции;
>  - логирует потенциальные проблемы;
> - Также может быть создан `note_integrity_checker.py`, который проверяет:
>  - THOUGHT/COMMENT-баланс,
>  - отсутствие скрытых блоков,
>  - пригодность для нарезки.
> 
> </END-COMMENT>
> ```
> 
> ---
> 
> Переход к **пункту 4 — минимальный пригодный формат для парсинга и трансформаций**? 
> Или углубим этот раздел примером плохого и хорошего фрагмента?
<!-- UID: 63cea49d-2c1c-4de8-bd57-b89ac3d4ecaf -->