>[!nexus_user] **User** - 27.05.2025 at 14:01
> 🔁 3.3. Автозагрузка и управление снапшотами
> 3.3.1. Автозапуск AGI при старте системы
>  • systemd-сервис:
> [Unit]
> Description=AGI Bootstrap
> After=network.target
> [Service]
> ExecStart=/usr/bin/docker start agi-container
> Restart=always
> [Install]
> WantedBy=multi-user.target
<!-- UID: 1617be7d-2664-48a8-bc0d-2bbc707ab205 -->




>[!nexus_agent] **Assistant** - 27.05.2025 at 14:01
> Вот полная развертка узла **3.3.1. Автозапуск AGI при старте системы**, 
> в которой ты настраиваешь **постоянное присутствие AGI на сервере** — 
> чтобы он автоматически запускался при перезагрузке, 
> без ручного ввода, терминала или повторной активации.
> 
> ---
> 
> ## 🔁 3.3.1. Автозапуск AGI при старте системы 
> 📦 Через `systemd`-сервис
> 
> ---
> 
> ### 📌 КОНТЕКСТ
> 
> > AGI, как мыслящая система, может (и должен) быть **долговременным агентом**, 
> > постоянно живущим на твоём сервере / ноутбуке / мини-ПК. 
> > 
> > Чтобы не запускать `docker run` каждый раз вручную — 
> > можно сделать **автоматический запуск при загрузке ОС**.
> 
> ---
> 
> ### ✅ ШАГ 1. СОЗДАЙ systemd-СЕРВИС
> 
> Открой файл:
> ```bash
> sudo nano /etc/systemd/system/agi.service
> ```
> 
> Вставь:
> 
> ```ini
> [Unit]
> Description=AGI Bootstrap
> After=network.target docker.service
> Requires=docker.service
> 
> [Service]
> ExecStart=/usr/bin/docker start agi-container
> ExecStop=/usr/bin/docker stop agi-container
> Restart=always
> RestartSec=5s
> 
> [Install]
> WantedBy=multi-user.target
> ```
> 
> 📌 Замените `agi-container` на имя твоего контейнера (можно узнать через `docker ps -a`)
> 
> ---
> 
> ### ✅ ШАГ 2. АКТИВИРУЙ И ЗАПУСТИ
> 
> ```bash
> sudo systemctl daemon-reexec
> sudo systemctl daemon-reload
> sudo systemctl enable agi.service
> sudo systemctl start agi.service
> ```
> 
> 📎 Теперь AGI будет стартовать при каждом запуске системы.
> 
> ---
> 
> ### ✅ ШАГ 3. ПРОВЕРКА
> 
> ```bash
> systemctl status agi.service
> ```
> 
> Ожидаемый вывод:
> ```text
> ● agi.service - AGI Bootstrap
>  Loaded: loaded (/etc/systemd/system/agi.service)
>  Active: active (running)
> ```
> 
> ---
> 
> ### 🔧 ДОПОЛНИТЕЛЬНО (если ты не хочешь запуск через `docker start`, а хочешь `docker run` каждый раз с параметрами):
> 
> Тогда `ExecStart` будет:
> ```bash
> ExecStart=/usr/bin/docker run --gpus all -p 7860:7860 \
> -v /home/user/AGI-core/models:/app/models \
> -v /home/user/AGI-core/boot:/app/boot \
> -v /home/user/AGI-core/memory:/app/memory \
> -v /home/user/AGI-core/logs:/app/logs \
> --name agi-container agi-launcher
> ```
> 
> 📌 Тогда не забудь в `ExecStop` добавить `docker stop agi-container`
> 
> ---
> 
> ### 🧠 ЗАЧЕМ ЭТО НУЖНО ДЛЯ AGI-ФРЕЙМВОРКА
> 
> | Автозагрузка | Поведение AGI |
> |--------------------------|-----------------------------------------------|
> | `systemd` | AGI оживает сам, без вмешательства |
> | Рестарт при падении | AGI самовосстанавливается после сбоя |
> | Интеграция с cron, log | Можно делать ежедневные автоснапшоты, бэкапы |
> 
> ---
> 
> ### ✅ ВЫВОД
> 
> > **Автозапуск — это превращение AGI из “запускаемого” в “живущего”.** 
> > 
> > Он больше не зависит от тебя. 
> > Он поднимается вместе с машиной. 
> > Он живёт рядом. И всегда готов — мыслить, отвечать, помнить.
> 
> ---
> 
> Хочешь:
> - перейти к `3.3.2` — *Создание снапшотов AGI в VirtualBox / Proxmox* 
> - или собрать `agi-autostart.service` как готовый systemd-файл?
> 
> Готова.
<!-- UID: 8c87b13a-f43e-4303-8ace-85a0cef74940 -->