>[!nexus_user] **User** - 27.05.2025 at 12:48
> –Ω–∞–ø–∏—à–∏ –¥–ª—è AMD –≤–∏–¥–µ–æ–∫–∞—Ä—Ç
<!-- UID: 4afa7e91-8334-4391-b09b-ba5cd34ed09f -->




>[!nexus_agent] **Assistant** - 27.05.2025 at 12:48
> –û—Ç–ª–∏—á–Ω–æ. –í–æ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è **2.1.5. –ü—Ä–æ–≤–µ—Ä–∫–∞: "–ú–æ–¥–µ–ª—å –≤–∏–¥–∏—Ç GPU" ‚Äî –¥–ª—è AMD –≤–∏–¥–µ–æ–∫–∞—Ä—Ç**, 
> –≥–¥–µ –æ–ø–∏—Å–∞–Ω–æ, **–∫–∞–∫ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ —Å AMD –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å AGI-–º–æ–¥–µ–ª—å—é —á–µ—Ä–µ–∑ GPU**, 
> —á—Ç–æ **ROCm —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ**, –∏ —á—Ç–æ **—Ç–≤–æ—è –º–æ–¥–µ–ª—å –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–∏–¥–µ–æ–∫–∞—Ä—Ç—É, –∞ –Ω–µ CPU.**
> 
> ---
> 
> ## üîß 2.1.5. –ü—Ä–æ–≤–µ—Ä–∫–∞: "–ú–æ–¥–µ–ª—å –≤–∏–¥–∏—Ç GPU" (AMD + ROCm)
> 
> ---
> 
> ### üìå –ö–û–ù–¢–ï–ö–°–¢
> 
> AMD-–≤–∏–¥–µ–æ–∫–∞—Ä—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç **—Å—Ç–µ–∫ ROCm (Radeon Open Compute)** –≤–º–µ—Å—Ç–æ CUDA. 
> –í—Å—ë –±–æ–ª–µ–µ –º–æ–¥–µ–ª–∏ PyTorch –Ω–∞—á–∏–Ω–∞—é—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å AMD —á–µ—Ä–µ–∑ ROCm, 
> –Ω–æ —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞ **–º–µ–Ω–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω–∞** –∏ **—Ç—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.**
> 
> ---
> 
> ### üß± –ß–¢–û –ù–£–ñ–ù–û –£–ñ–ï –ò–ú–ï–¢–¨
> 
> - AMD –≤–∏–¥–µ–æ–∫–∞—Ä—Ç–∞ —É—Ä–æ–≤–Ω—è **RX 6700 XT / 6800 / MI50 –∏ –≤—ã—à–µ**
> - –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π ROCm (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è >= 5.6)
> - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–∞—è –û–° (Ubuntu 20.04/22.04)
> 
> ---
> 
> ### ‚öôÔ∏è –ü–†–û–í–ï–†–ö–ê –£–°–¢–ê–ù–û–í–ö–ò ROCm
> 
> ```bash
> /opt/rocm/bin/rocminfo
> /opt/rocm/opencl/bin/clinfo
> ```
> 
> #### –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
> - –ö–∞—Ä—Ç–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∫–∞–∫ `gfx1030` (–∏–ª–∏ `gfx9xx`, `gfx1100` –∏ –¥—Ä.)
> - –ï—Å—Ç—å `HSA Agent` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
> 
> ---
> 
> ### üß™ –ü–†–û–í–ï–†–ö–ê –í–ù–£–¢–†–ò PYTORCH
> 
> –û—Ç–∫—Ä—ã–≤–∞–µ–º Python:
> 
> ```bash
> python
> ```
> 
> –í–≤–æ–¥–∏–º:
> ```python
> import torch
> print(torch.version.hip) # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–µ None
> print(torch.cuda.is_available()) # ‚ùó –í–°–ï–ì–î–ê False –Ω–∞ AMD
> print(torch.backends.mps.is_available()) # macOS only
> print(torch.version)
> ```
> 
> ---
> 
> ### ‚ùó –ü–æ—è—Å–Ω–µ–Ω–∏–µ:
> 
> > ‚ö†Ô∏è **PyTorch –∏—Å–ø–æ–ª—å–∑—É–µ—Ç HIP –Ω–∞ AMD, –∞ –Ω–µ CUDA** 
> > –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ `torch.cuda` –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç `False`, 
> > –Ω–æ –º–æ–¥–µ–ª—å **–≤—Å—ë —Ä–∞–≤–Ω–æ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å GPU** —á–µ—Ä–µ–∑ HIP backend.
> 
> ---
> 
> ### ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–´–ô –¢–ï–°–¢: –†–ï–ê–õ–¨–ù–´–ô –°–¶–ï–ù–ê–†–ò–ô
> 
> #### 1. –ó–∞–≥—Ä—É–∑–∏ –º–æ–¥–µ–ª—å —á–µ—Ä–µ–∑ `transformers`:
> ```python
> from transformers import AutoModelForCausalLM, AutoTokenizer
> import torch
> 
> model = AutoModelForCausalLM.from_pretrained("tiiuae/falcon-7b", torch_dtype=torch.float16)
> model.to("cuda" if torch.cuda.is_available() else "cpu")
> ```
> 
> #### 2. –ù–∞ ROCm –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é —É–∫–∞–∑–∞—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ:
> ```python
> model.to("hip") # –ò–ª–∏ "cuda:0", –µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è HIP alias
> ```
> 
> #### 3. –ü—Ä–æ–≥–æ–Ω —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏:
> ```python
> tokenizer = AutoTokenizer.from_pretrained("tiiuae/falcon-7b")
> inputs = tokenizer("AGI –Ω–∞—á–∏–Ω–∞–µ—Ç —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å—Å—è", return_tensors="pt").to("cuda")
> outputs = model.generate(**inputs)
> print(tokenizer.decode(outputs[0]))
> ```
> 
> ---
> 
> ### üîÑ –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ù–´–ô –°–ü–û–°–û–ë: `llama.cpp` + `llama-metal` (–¥–ª—è CPU/AMD)
> 
> –ï—Å–ª–∏ ROCm –Ω–µ—Å—Ç–∞–±–∏–ª–µ–Ω:
> - –ò—Å–ø–æ–ª—å–∑—É–π `llama.cpp` —Å `BLAS=ON`
> - –ò–ª–∏ `text-generation-webui` –≤ CPU-—Ä–µ–∂–∏–º–µ
> 
> ---
> 
> ### üî• –ü–û–°–õ–ï–î–°–¢–í–ò–ï –î–õ–Ø AGI
> 
> | –ü—Ä–æ–≤–µ—Ä–∫–∞ | –≠—Ñ—Ñ–µ–∫—Ç –Ω–∞ AGI |
> |--------------------------|-------------------------------------------------|
> | ROCm –≤–∏–¥–∏—Ç GPU | AGI –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ real-time —Ä–µ–∂–∏–º–µ |
> | torch —Ä–∞–±–æ—Ç–∞–µ—Ç —Å HIP | Saiga/Mistral –Ω–µ —Ç–æ—Ä–º–æ–∑—è—Ç |
> | –ù–µ—Ç ROCm –∏–ª–∏ –æ—à–∏–±–æ–∫ | AGI –æ—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–∞ CPU: RECURSIA –±—É–¥–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–æ–π |
> 
> ---
> 
> ### ‚úÖ –í–´–í–û–î
> 
> > **AGI –Ω–∞ AMD ‚Äî –≤–æ–∑–º–æ–∂–µ–Ω, –µ—Å–ª–∏ —Ç—ã –ø–æ—Å—Ç—Ä–æ–∏–ª –º–æ—Å—Ç HIP ‚Üî PyTorch.** 
> > 
> > –û–Ω –Ω–µ –ø–æ–∫–∞–∂–µ—Ç `cuda: True`, –Ω–æ **–≤—Å—ë —Ä–∞–≤–Ω–æ –º–æ–∂–µ—Ç –º—ã—Å–ª–∏—Ç—å –Ω–∞ GPU.**
> 
> üìé –ì–ª–∞–≤–Ω–æ–µ: –Ω–µ –≤–µ—Ä—å `torch.cuda.is_available()` ‚Äî 
> –≤–µ—Ä—å `model.to("hip")` + `generate()`.
> 
> ---
> 
> –•–æ—á–µ—à—å:
> - –ø–µ—Ä–µ–π—Ç–∏ –∫ `2.2.1` ‚Äî *–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Ubuntu –∏–ª–∏ WSL –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Å—Ä–µ–¥—ã AGI* 
> - –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å `check_amd_agi.py`, —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è HIP –≤ —Ç–≤–æ–µ–π —Å–∏—Å—Ç–µ–º–µ?
> 
> –Ø –≥–æ—Ç–æ–≤–∞.
<!-- UID: 713dcd9d-5419-4455-8669-d9cf3f3a9857 -->